"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{1077:function(e,r,n){var t=n(5893),a=(n(7294),n(5675)),i=n(1714);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){o(e,r,n[r])}))}return e}function l(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}r.Z=function(e){var r=e.alt,n=void 0===r?"zoom-image":r,o=l(e,["alt"]);return(0,t.jsx)(i.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(a.default,u({},o,{alt:n}))})})}},2567:function(e,r,n){n.d(r,{Z:function(){return k}});var t=n(5893),a=n(7294),i=n(6242),o=n(1664),u=n(4706),l=n(7357),c=n(122),s=n(5165),f=n(7600),d=n(3321),h=n(8871),m=n(5819),v=n(4051),p=n.n(v),b=n(3298);function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function x(e,r,n,t,a,i,o){try{var u=e[i](o),l=u.value}catch(c){return void n(c)}u.done?r(l):Promise.resolve(l).then(t,a)}function w(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function o(e){x(i,t,a,o,u,"next",e)}function u(e){x(i,t,a,o,u,"throw",e)}o(void 0)}))}}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return y(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(){var e=g(a.useState(void 0),2),r=e[0],n=e[1];return a.useEffect((function(){var e=b.O.auth.user();n(e||void 0)}),[]),a.useEffect((function(){var e=b.O.auth.onAuthStateChange(function(){var e=w(p().mark((function e(r,t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.user)&&n(t.user);case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()).data;return function(){e&&e.unsubscribe()}}),[]),{doSignIn:function(e){var r=e.email,t=e.password;(function(){var e=w(p().mark((function e(){var a,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.O.auth.signIn({email:r,password:t});case 2:if(a=e.sent,i=a.user,!(o=a.error)){e.next=8;break}return console.log(o),e.abrupt("return");case 8:if(i){e.next=11;break}return console.log(o),e.abrupt("return");case 11:n(i);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},doSignOut:function(){(function(){var e=w(p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.O.auth.signOut();case 2:if(!(r=e.sent.error)){e.next=6;break}return console.log(r),e.abrupt("return");case 6:console.log("asyncSignOut"),n(void 0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},authUser:r}};function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(){var e=j(),r=e.doSignIn,n=e.doSignOut,i=e.authUser,v=S(a.useState(null),2),p=v[0],b=v[1],y=Boolean(p),x=function(){b(null)};return console.log("Header authUser: ",i),(0,t.jsx)("div",{className:"flex w-full justify-center bg-blue-400",children:(0,t.jsx)("div",{className:"flex w-full flex-row bg-green-500 p-4 lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsxs)("div",{className:"relative flex w-full flex-row justify-between overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-0 flex flex-row",children:[(0,t.jsx)(l.Z,{className:"p-1",children:(0,t.jsx)(o.default,{href:"/orders",as:"".concat("FontechOrder/","/orders"),passHref:!0,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{title:"Order",children:(0,t.jsx)(s.Z,{})})})})}),(0,t.jsx)(l.Z,{className:"p-1",children:(0,t.jsx)(o.default,{href:"/restaurants",as:"".concat("FontechOrder/","/restaurants"),passHref:!0,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{title:"Restaurant",children:(0,t.jsx)(f.Z,{})})})})})]}),(0,t.jsx)("div",{className:"flex flex-1 justify-end",children:i?(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{id:"basic-button","aria-controls":y?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:function(e){b(e.currentTarget)},children:(0,t.jsxs)("div",{className:"whitespace-pre-wrap break-all text-right",children:[i.email,i.email,i.email,i.email,"\n\n\n",i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email]})}),(0,t.jsx)(h.Z,{id:"basic-menu",anchorEl:p,open:y,onClose:x,transformOrigin:{horizontal:"left",vertical:"bottom"},children:(0,t.jsx)(m.Z,{onClick:function(){n(),x()},children:"Logout"})})]}):(0,t.jsx)(d.Z,{onClick:function(){return r({email:"jason@fontech.com.tw",password:"Fontech123"})},children:"log in"})})]})})})},k=function(e){var r=e.children;return(0,t.jsx)(i.Z,{header:I(),children:r})}},6242:function(e,r,n){var t=n(5893);n(7294);r.Z=function(e){var r=e.header,n=e.children,a=e.footer;return(0,t.jsxs)("div",{id:"page-content",className:"flex min-w-[20rem] flex-col ",children:[r,(0,t.jsx)("div",{className:"w-full self-center lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsx)("main",{children:n})}),a]})}},2962:function(e,r,n){var t=n(4051),a=n.n(t),i=n(7294),o=n(5590);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function l(e,r,n,t,a,i,o){try{var u=e[i](o),l=u.value}catch(c){return void n(c)}u.done?r(l):Promise.resolve(l).then(t,a)}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(e){var r=e.asyncCallback,n=e.customErrorCallback,t=c(i.useState(!0),2),u=t[0],s=t[1],f=c(i.useState(!1),2),d=f[0],h=f[1],m=c(i.useState(void 0),2),v=m[0],p=m[1],b=c(i.useState(void 0),2),y=b[0],x=b[1],w=i.useCallback((function(){(function(){var e,t=(e=a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:if(void 0===y){e.next=4;break}return e.abrupt("return");case 4:if(!d){e.next=6;break}return e.abrupt("return");case 6:return h(!0),x(void 0),e.prev=8,e.next=11,r();case 11:t=e.sent,x(t),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),i=n&&n(e.t0)||(0,o.iJ)(e.t0)||new Error("fetchData Error"),p(i);case 19:s(!1),h(!1);case 21:case"end":return e.stop()}}),e,null,[[8,15]])})),function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function o(e){l(i,t,a,o,u,"next",e)}function u(e){l(i,t,a,o,u,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[r,n,d,v,y,h,x,p]),g=i.useCallback((function(){return!u&&(!d&&(p(void 0),void 0!==y&&x(void 0),!0))}),[y,u,d,p,x]);return i.useEffect((function(){u&&(d||w())}),[u,d,w]),i.useEffect((function(){u||w()}),[u,w]),{isInit:u,isLoading:d,error:v,result:y,recall:g}}},3298:function(e,r,n){n.d(r,{O:function(){return t}});var t=(0,n(1904).eI)("https://cjehjnuqvihotvcwpyzr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqZWhqbnVxdmlob3R2Y3dweXpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTAwMDExOTAsImV4cCI6MTk2NTU3NzE5MH0.nTMWhQfiFVKwC5bG32fuuRrYXLq3b_UHbQe5EG6mf7w")},9664:function(e,r,n){var t=n(7294),a=n(3298),i=n(5590);r.Z=function(e){var r=e.path,n=e.insertCallback,o=void 0===n?i.G1:n,u=e.updateCallback,l=void 0===u?i.G1:u,c=e.deleteCallback,s=void 0===c?i.G1:c;return t.useEffect((function(){var e=a.O.from(r).on("INSERT",o).on("UPDATE",l).on("DELETE",s).subscribe();return function(){a.O.removeSubscription(e)}}),[r,o,l,s]),{}}}}]);