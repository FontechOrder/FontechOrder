(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{1024:function(r,e,n){"use strict";n.d(e,{Z:function(){return h}});var t=n(7462),i=n(3366),a=n(7294),o=n(6010),u=n(7192),c=n(1496),s=n(7623),l=n(5113),f=n(8979);function d(r){return(0,f.Z)("MuiCard",r)}(0,n(6087).Z)("MuiCard",["root"]);var v=n(5893);const m=["className","raised"],p=(0,c.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,e)=>e.root})((()=>({overflow:"hidden"})));var h=a.forwardRef((function(r,e){const n=(0,s.Z)({props:r,name:"MuiCard"}),{className:a,raised:c=!1}=n,l=(0,i.Z)(n,m),f=(0,t.Z)({},n,{raised:c}),h=(r=>{const{classes:e}=r;return(0,u.Z)({root:["root"]},d,e)})(f);return(0,v.jsx)(p,(0,t.Z)({className:(0,o.Z)(h.root,a),elevation:c?8:void 0,ref:e,ownerState:f},l))}))},8659:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/menus",function(){return n(3958)}])},1077:function(r,e,n){"use strict";var t=n(5893),i=(n(7294),n(5675)),a=n(1714);function o(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function u(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){o(r,e,n[e])}))}return r}function c(r,e){if(null==r)return{};var n,t,i=function(r,e){if(null==r)return{};var n,t,i={},a=Object.keys(r);for(t=0;t<a.length;t++)n=a[t],e.indexOf(n)>=0||(i[n]=r[n]);return i}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(t=0;t<a.length;t++)n=a[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(i[n]=r[n])}return i}e.Z=function(r){var e=r.alt,n=void 0===e?"zoom-image":e,o=c(r,["alt"]);return(0,t.jsx)(a.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(i.default,u({},o,{alt:n}))})})}},6242:function(r,e,n){"use strict";var t=n(5893);n(7294);e.Z=function(r){var e=r.header,n=r.children,i=r.footer;return(0,t.jsxs)("div",{id:"page-content",className:"flex min-w-[20rem] flex-col ",children:[e,(0,t.jsx)("div",{className:"w-full self-center lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsx)("main",{children:n})}),i]})}},2962:function(r,e,n){"use strict";var t=n(4051),i=n.n(t),a=n(7294),o=n(5590);function u(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function c(r,e,n,t,i,a,o){try{var u=r[a](o),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(t,i)}function s(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,i,a=[],o=!0,u=!1;try{for(n=n.call(r);!(o=(t=n.next()).done)&&(a.push(t.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return u(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(r){var e=r.asyncCallback,n=r.customErrorCallback,t=s(a.useState(!0),2),u=t[0],l=t[1],f=s(a.useState(!1),2),d=f[0],v=f[1],m=s(a.useState(void 0),2),p=m[0],h=m[1],b=s(a.useState(void 0),2),w=b[0],x=b[1],y=a.useCallback((function(){(function(){var r,t=(r=i().mark((function r(){var t,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!p){r.next=2;break}return r.abrupt("return");case 2:if(void 0===w){r.next=4;break}return r.abrupt("return");case 4:if(!d){r.next=6;break}return r.abrupt("return");case 6:return v(!0),x(void 0),r.prev=8,r.next=11,e();case 11:t=r.sent,x(t),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(8),a=n&&n(r.t0)||(0,o.iJ)(r.t0)||new Error("fetchData Error"),h(a);case 19:l(!1),v(!1);case 21:case"end":return r.stop()}}),r,null,[[8,15]])})),function(){var e=this,n=arguments;return new Promise((function(t,i){var a=r.apply(e,n);function o(r){c(a,t,i,o,u,"next",r)}function u(r){c(a,t,i,o,u,"throw",r)}o(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[e,n,d,p,w,v,x,h]),j=a.useCallback((function(){return!u&&(!d&&(h(void 0),void 0!==w&&x(void 0),!0))}),[w,u,d,h,x]);return a.useEffect((function(){u&&(d||y())}),[u,d,y]),a.useEffect((function(){u||y()}),[u,y]),{isInit:u,isLoading:d,error:p,result:w,recall:j}}},3958:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var t=n(5893),i=n(7294),a=n(7357),o=n(6242),u=n(3321),c=n(6886),s=n(1024),l=n(1077),f=n(4051),d=n.n(f),v=n(3298);function m(r,e,n,t,i,a,o){try{var u=r[a](o),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(t,i)}function p(r){return function(){var e=this,n=arguments;return new Promise((function(t,i){var a=r.apply(e,n);function o(r){m(a,t,i,o,u,"next",r)}function u(r){m(a,t,i,o,u,"throw",r)}o(void 0)}))}}var h=function(){var r=p(d().mark((function r(){var e,n,t,i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.O.storage.from("menus").list("restaurant");case 2:if(e=r.sent,n=e.data,!(t=e.error)){r.next=7;break}throw t;case 7:if(n){r.next=9;break}throw new Error("no menus");case 9:return r.next=11,Promise.all(n.map(function(){var r=p(d().mark((function r(e){var n,t,i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.name){r.next=2;break}throw new Error("no menu name");case 2:return r.next=4,v.O.storage.from("menus").getPublicUrl("restaurant/"+e.name);case 4:if(n=r.sent,t=n.data,!(i=n.error)){r.next=9;break}throw i;case 9:if(t){r.next=11;break}throw new Error("no publicUrl");case 11:return r.abrupt("return",{id:e.id,name:e.name,publicURL:t.publicURL});case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()));case 11:return i=r.sent,r.abrupt("return",i);case 13:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),b=n(2962),w=function(){var r=(0,b.Z)({asyncCallback:h,customErrorCallback:function(){return new Error("Custom")}}),e=r.isInit,n=r.isLoading,t=r.error,a=r.result,o=r.recall;return{isInit:e,isLoading:n,error:t,storageMenus:i.useMemo((function(){return a||[]}),[a]),recall:o}},x=function(){var r=w(),e=r.isInit,n=r.isLoading,i=r.error,o=r.storageMenus,f=r.recall;return e?(0,t.jsx)("div",{children:"init..."}):n?(0,t.jsx)("div",{children:"loading..."}):i?(0,t.jsx)("div",{children:"Some error..."}):(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(u.Z,{variant:"contained",onClick:f,children:"Recall"}),(0,t.jsx)(a.Z,{mt:2,children:(0,t.jsx)(c.ZP,{container:!0,spacing:2,children:o.map((function(r){return(0,t.jsx)(c.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,t.jsxs)(s.Z,{className:"items-center",variant:"outlined",children:[(0,t.jsx)("div",{className:"relative aspect-[3/4]",children:(0,t.jsx)(l.Z,{priority:!0,src:r.publicURL,alt:r.name,layout:"fill"})}),(0,t.jsx)("div",{className:"text-center",children:r.name})]})},"storage-menu-grid-".concat(r.id))}))})})]})},y=function(){return(0,t.jsx)(o.Z,{children:(0,t.jsx)(a.Z,{m:2,children:(0,t.jsx)(x,{})})})}},3298:function(r,e,n){"use strict";n.d(e,{O:function(){return t}});var t=(0,n(1904).eI)("https://cjehjnuqvihotvcwpyzr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqZWhqbnVxdmlob3R2Y3dweXpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTAwMDExOTAsImV4cCI6MTk2NTU3NzE5MH0.nTMWhQfiFVKwC5bG32fuuRrYXLq3b_UHbQe5EG6mf7w")}},function(r){r.O(0,[742,545,774,888,179],(function(){return e=8659,r(r.s=e);var e}));var e=r.O();_N_E=e}]);