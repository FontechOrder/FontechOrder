(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{1024:function(r,n,e){"use strict";e.d(n,{Z:function(){return p}});var t=e(7462),a=e(3366),i=e(7294),o=e(6010),u=e(7192),c=e(549),l=e(1239),s=e(5113),f=e(8979);function d(r){return(0,f.Z)("MuiCard",r)}(0,e(6087).Z)("MuiCard",["root"]);var v=e(5893);const m=["className","raised"],h=(0,c.ZP)(s.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,n)=>n.root})((()=>({overflow:"hidden"})));var p=i.forwardRef((function(r,n){const e=(0,l.Z)({props:r,name:"MuiCard"}),{className:i,raised:c=!1}=e,s=(0,a.Z)(e,m),f=(0,t.Z)({},e,{raised:c}),p=(r=>{const{classes:n}=r;return(0,u.Z)({root:["root"]},d,n)})(f);return(0,v.jsx)(h,(0,t.Z)({className:(0,o.Z)(p.root,i),elevation:c?8:void 0,ref:n,ownerState:f},s))}))},8659:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/menus",function(){return e(3392)}])},1077:function(r,n,e){"use strict";var t=e(5893),a=(e(7294),e(5675)),i=e(1714);function o(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function u(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})))),t.forEach((function(n){o(r,n,e[n])}))}return r}function c(r,n){if(null==r)return{};var e,t,a=function(r,n){if(null==r)return{};var e,t,a={},i=Object.keys(r);for(t=0;t<i.length;t++)e=i[t],n.indexOf(e)>=0||(a[e]=r[e]);return a}(r,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)e=i[t],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(a[e]=r[e])}return a}n.Z=function(r){var n=r.alt,e=void 0===n?"zoom-image":n,o=c(r,["alt"]);return(0,t.jsx)(i.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(a.default,u({},o,{alt:e}))})})}},6242:function(r,n,e){"use strict";var t=e(5893);e(7294);n.Z=function(r){var n=r.header,e=r.children,a=r.footer;return(0,t.jsxs)("div",{id:"page-content",className:"flex min-w-[20rem] flex-col ",children:[n,(0,t.jsx)("div",{className:"w-full self-center lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsx)("main",{children:e})}),a]})}},301:function(r,n,e){"use strict";var t=e(7294),a=e(3869);function i(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function o(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i=[],o=!0,u=!1;try{for(e=e.call(r);!(o=(t=e.next()).done)&&(i.push(t.value),!n||i.length!==n);o=!0);}catch(c){u=!0,a=c}finally{try{o||null==e.return||e.return()}finally{if(u)throw a}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return i(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(r){var n=r.asyncCallback,e=r.customErrorCallback,i=o(t.useState(!0),2),u=i[0],c=i[1],l=t.useCallback((function(){return n}),[n]),s=(0,a.Z)({asyncCallback:l(),customErrorCallback:e}),f=s.isLoading,d=s.error,v=s.result,m=s.recall,h=s.fetchData,p=t.useCallback((function(){console.log("fetchData"),h({finishCallBack:function(){c(!1)}})}),[h]),b=t.useCallback((function(){return console.log("useInitLoadingResultError recall ".concat(u)),!u&&m()}),[u,m]);return t.useEffect((function(){u&&(f||p())}),[u,f,p]),t.useEffect((function(){u||p()}),[u,p]),{isInit:u,setIsInit:c,isLoading:f,error:d,result:v,recall:b}}},3869:function(r,n,e){"use strict";var t=e(4051),a=e.n(t),i=e(7294),o=e(1622);function u(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function c(r,n,e,t,a,i,o){try{var u=r[i](o),c=u.value}catch(l){return void e(l)}u.done?n(c):Promise.resolve(c).then(t,a)}function l(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){c(i,t,a,o,u,"next",r)}function u(r){c(i,t,a,o,u,"throw",r)}o(void 0)}))}}function s(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i=[],o=!0,u=!1;try{for(e=e.call(r);!(o=(t=e.next()).done)&&(i.push(t.value),!n||i.length!==n);o=!0);}catch(c){u=!0,a=c}finally{try{o||null==e.return||e.return()}finally{if(u)throw a}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return u(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(r){var n=r.asyncCallback,e=r.customErrorCallback,t=s(i.useState(!1),2),u=t[0],c=t[1],f=s(i.useState(void 0),2),d=f[0],v=f[1],m=s(i.useState(void 0),2),h=m[0],p=m[1],b=i.useCallback((function(){return n}),[n]),y=i.useCallback((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stopByLoadingCallBack:o.G1,finishCallBack:o.G1},n=function(){var n=l(a().mark((function n(){var t,i,l,s,f,m,y;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=5;break}return null===r||void 0===r||null===(i=r.finishCallBack)||void 0===i||i.call(r),n.abrupt("return");case 5:if(void 0===h){n.next=9;break}return null===r||void 0===r||null===(l=r.finishCallBack)||void 0===l||l.call(r),n.abrupt("return");case 9:if(!u){n.next=14;break}return null===r||void 0===r||null===(s=r.stopByLoadingCallBack)||void 0===s||s.call(r),null===r||void 0===r||null===(f=r.finishCallBack)||void 0===f||f.call(r),n.abrupt("return");case 14:return c(!0),p(void 0),n.prev=16,n.next=19,b()();case 19:m=n.sent,p(m),n.next=27;break;case 23:n.prev=23,n.t0=n.catch(16),y=e&&e(n.t0)||(0,o.iJ)(n.t0)||new Error("fetchData Error"),v(y);case 27:null===r||void 0===r||null===(t=r.finishCallBack)||void 0===t||t.call(r),c(!1);case 29:case"end":return n.stop()}}),n,null,[[16,23]])})));return function(){return n.apply(this,arguments)}}();n()}),[b,e,u,d,h,c,p,v]),w=i.useCallback((function(){return!u&&(v(void 0),void 0!==h&&p(void 0),!0)}),[h,u,v,p]);return{isLoading:u,fetchData:y,error:d,result:h,recall:w}}},3392:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return d}});var t=e(5893),a=(e(7294),e(6822)),i=e(6242),o=e(3321),u=e(6886),c=e(1024),l=e(1077),s=e(1676),f=function(){var r=(0,s.Z)(),n=r.isInit,e=r.isLoading,i=r.error,f=r.storageMenus,d=r.recall;return n?(0,t.jsx)("div",{children:"init..."}):e?(0,t.jsx)("div",{children:"loading..."}):i?(0,t.jsx)("div",{children:"Some error..."}):(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{variant:"contained",onClick:d,children:"Recall"}),(0,t.jsx)(a.Z,{mt:2,children:(0,t.jsx)(u.ZP,{container:!0,spacing:2,children:f.map((function(r){return(0,t.jsx)(u.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,t.jsxs)(c.Z,{className:"items-center",variant:"outlined",children:[(0,t.jsx)("div",{className:"relative aspect-[3/4]",children:(0,t.jsx)(l.Z,{priority:!0,src:r.publicURL,alt:r.name,layout:"fill"})}),(0,t.jsx)("div",{className:"text-center",children:r.name})]})},"storage-menu-grid-".concat(r.id))}))})})]})},d=function(){return(0,t.jsx)(i.Z,{children:(0,t.jsx)(a.Z,{m:2,children:(0,t.jsx)(f,{})})})}},3298:function(r,n,e){"use strict";e.d(n,{O:function(){return t}});var t=(0,e(1904).eI)("https://cjehjnuqvihotvcwpyzr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqZWhqbnVxdmlob3R2Y3dweXpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTAwMDExOTAsImV4cCI6MTk2NTU3NzE5MH0.nTMWhQfiFVKwC5bG32fuuRrYXLq3b_UHbQe5EG6mf7w")},1676:function(r,n,e){"use strict";e.d(n,{Z:function(){return f}});var t=e(7294),a=e(4051),i=e.n(a),o=e(3298);function u(r,n,e,t,a,i,o){try{var u=r[i](o),c=u.value}catch(l){return void e(l)}u.done?n(c):Promise.resolve(c).then(t,a)}function c(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){u(i,t,a,o,c,"next",r)}function c(r){u(i,t,a,o,c,"throw",r)}o(void 0)}))}}var l=function(){var r=c(i().mark((function r(){var n,e,t,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.O.storage.from("menus").list("restaurant");case 2:if(n=r.sent,e=n.data,!(t=n.error)){r.next=7;break}throw t;case 7:if(e){r.next=9;break}throw new Error("no menus");case 9:return r.next=11,Promise.all(e.map(function(){var r=c(i().mark((function r(n){var e,t,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.name){r.next=2;break}throw new Error("no menu name");case 2:return r.next=4,o.O.storage.from("menus").getPublicUrl("restaurant/"+n.name);case 4:if(e=r.sent,t=e.data,!(a=e.error)){r.next=9;break}throw a;case 9:if(t){r.next=11;break}throw new Error("no publicUrl");case 11:return r.abrupt("return",{id:n.id,name:n.name,publicURL:t.publicURL});case 12:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()));case 11:return a=r.sent,r.abrupt("return",a);case 13:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s=e(301),f=function(){var r=(0,s.Z)({asyncCallback:l,customErrorCallback:function(){return new Error("Custom")}}),n=r.isInit,e=r.isLoading,a=r.error,i=r.result,o=r.recall;return{isInit:n,isLoading:e,error:a,storageMenus:t.useMemo((function(){return i||[]}),[i]),recall:o}}}},function(r){r.O(0,[240,177,774,888,179],(function(){return n=8659,r(r.s=n);var n}));var n=r.O();_N_E=n}]);