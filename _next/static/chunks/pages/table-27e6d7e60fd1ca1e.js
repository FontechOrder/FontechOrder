(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{348:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/table",function(){return t(4384)}])},4384:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t(4051),a=t.n(r),s=t(5893),c=(t(7294),t(8580)),u=t(1242);function o(e,n,t,r,a,s,c){try{var u=e[s](c),o=u.value}catch(i){return void t(i)}u.done?n(o):Promise.resolve(o).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var s=e.apply(n,t);function c(e){o(s,r,a,c,u,"next",e)}function u(e){o(s,r,a,c,u,"throw",e)}c(void 0)}))}}!function(){var e=i(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("tryDB"),e.prev=1,e.next=4,fetch("http://localhost:3000/api/db");case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,console.log("response jsonData: ",t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("tryDB error");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))}();var l=function(){var e=i(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/requestUsers");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=i(a().mark((function e(n){var t,r,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.name,r=n.email,s=n.type,e.next=3,fetch("http://localhost:3000/api/requestNewUser?name=".concat(t,"&email=").concat(r,"&type=").concat(s));case 3:return c=e.sent,e.next=6,c.json();case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=i(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/database/createUserTable");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=i(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/database/dropUserTable");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e,n,t,r,a,s,c){try{var u=e[s](c),o=u.value}catch(i){return void t(i)}u.done?n(o):Promise.resolve(o).then(r,a)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var s=e.apply(n,t);function c(e){v(s,r,a,c,u,"next",e)}function u(e){v(s,r,a,c,u,"throw",e)}c(void 0)}))}}var d=function(e){console.log(e),window.alert(e)},m=function(){return(0,s.jsx)(c.Z,{children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(u.Z,{onClick:x(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:d("createUserTable success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d("asyncRequestUsers fail.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"create User Table"}),(0,s.jsx)(u.Z,{onClick:x(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:d("dropUserTable success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d("asyncRequestUsers fail.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"drop User Table"}),(0,s.jsx)(u.Z,{onClick:x(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:n=e.sent,t=n.data.users,d(JSON.stringify(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d("asyncRequestUsers fail.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),children:"show Users"}),(0,s.jsx)("div",{className:"flex flex-col bg-green-400 p-4",children:(0,s.jsxs)("form",{onSubmit:function(){var e=x(a().mark((function e(n){var t,r,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,t=n.target,r=t.name.value,s=t.email.value,c=t.type.value,![r,s,c].some((function(e){return!e}))){e.next=8;break}throw new Error("invalid user info.");case 8:return e.next=10,p({name:r,email:s,type:c});case 10:d("requestNewUser success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),d("asyncRequestUsers fail.");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),children:[(0,s.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name"}),(0,s.jsx)("label",{htmlFor:"email",children:"email:"}),(0,s.jsx)("input",{type:"text",id:"email",name:"email"}),(0,s.jsx)("label",{htmlFor:"type",children:"type:"}),(0,s.jsx)("input",{type:"text",id:"type",name:"type"}),(0,s.jsx)(u.Z,{type:"submit",children:"Submit"})]})})]})})}}},function(e){e.O(0,[890,580,774,888,179],(function(){return n=348,e(e.s=n);var n}));var n=e.O();_N_E=n}]);