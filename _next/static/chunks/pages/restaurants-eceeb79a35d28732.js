(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{1024:function(r,t,n){"use strict";n.d(t,{Z:function(){return y}});var e=n(7462),a=n(3366),o=n(7294),i=n(6010),u=n(7192),l=n(549),c=n(1239),s=n(5113),f=n(8979);function d(r){return(0,f.Z)("MuiCard",r)}(0,n(6087).Z)("MuiCard",["root"]);var v=n(5893);const b=["className","raised"],p=(0,l.ZP)(s.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,t)=>t.root})((()=>({overflow:"hidden"})));var y=o.forwardRef((function(r,t){const n=(0,c.Z)({props:r,name:"MuiCard"}),{className:o,raised:l=!1}=n,s=(0,a.Z)(n,b),f=(0,e.Z)({},n,{raised:l}),y=(r=>{const{classes:t}=r;return(0,u.Z)({root:["root"]},d,t)})(f);return(0,v.jsx)(p,(0,e.Z)({className:(0,i.Z)(y.root,o),elevation:l?8:void 0,ref:t,ownerState:f},s))}))},4184:function(r,t){var n;!function(){"use strict";var e={}.hasOwnProperty;function a(){for(var r=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)r.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&r.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var u in n)e.call(n,u)&&n[u]&&r.push(u);else r.push(n.toString())}}return r.join(" ")}r.exports?(a.default=a,r.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(r.exports=n)}()},7638:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants",function(){return n(1794)}])},1077:function(r,t,n){"use strict";var e=n(5893),a=(n(7294),n(5675)),o=n(1714);function i(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function u(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){i(r,t,n[t])}))}return r}function l(r,t){if(null==r)return{};var n,e,a=function(r,t){if(null==r)return{};var n,e,a={},o=Object.keys(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||(a[n]=r[n]);return a}(r,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}t.Z=function(r){var t=r.alt,n=void 0===t?"zoom-image":t,i=l(r,["alt"]);return(0,e.jsx)(o.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,e.jsx)("div",{className:"relative h-full w-full",children:(0,e.jsx)(a.default,u({},i,{alt:n}))})})}},2648:function(r,t,n){"use strict";var e=n(5893),a=(n(7294),n(6242)),o=n(3994);t.Z=function(r){var t=r.children;return(0,e.jsx)(a.Z,{header:(0,e.jsx)(o.Z,{}),children:t})}},301:function(r,t,n){"use strict";var e=n(7294),a=n(3869);function o(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function i(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,a,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return o(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(r){var t=r.asyncCallback,n=r.customErrorCallback,o=i(e.useState(!0),2),u=o[0],l=o[1],c=e.useCallback((function(){return t}),[t]),s=(0,a.Z)({asyncCallback:c(),customErrorCallback:n}),f=s.isLoading,d=s.error,v=s.result,b=s.recall,p=s.fetchData,y=e.useCallback((function(){console.log("fetchData"),p({finishCallBack:function(){l(!1)}})}),[p]),h=e.useCallback((function(){return console.log("useInitLoadingResultError recall ".concat(u)),!u&&b()}),[u,b]);return e.useEffect((function(){u&&(f||y())}),[u,f,y]),e.useEffect((function(){u||y()}),[u,y]),{isInit:u,setIsInit:l,isLoading:f,error:d,result:v,recall:h}}},1794:function(r,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var e=n(5893),a=(n(7294),n(6822)),o=n(2648),i=n(3321),u=n(6886),l=n(1024),c=n(4184),s=n.n(c),f=n(1664);function d(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function v(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){d(r,t,n[t])}))}return r}var b=function(r){var t=r.isBlank,n=void 0!==t&&t,a=r.className,o=r.title,i=r.linkProps,u=n?{target:"_blank",rel:"noreferrer"}:{};return(0,e.jsx)("div",{className:s()("p-2 text-blue-800 hover:underline",a),children:(0,e.jsx)(f.default,v({},i,{children:(0,e.jsx)("a",v({},u,{children:o}))}))})},p=n(1077),y=n(7970),h=function(){var r=(0,y.Z)(),t=r.isInit,n=r.isLoading,o=r.error,c=r.recall,s=r.restaurants;return t?(0,e.jsx)("div",{children:"init..."}):n?(0,e.jsx)("div",{children:"loading..."}):o?(0,e.jsx)("div",{children:"Some error..."}):(0,e.jsxs)(a.Z,{children:[(0,e.jsx)(i.Z,{variant:"contained",onClick:c,children:"Recall"}),(0,e.jsx)(u.ZP,{container:!0,spacing:2,children:s.map((function(r){return(0,e.jsx)(u.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,e.jsxs)(l.Z,{className:"items-center",variant:"outlined",children:[(0,e.jsx)("div",{className:"relative aspect-[3/4]",children:r.image_url&&(0,e.jsx)(p.Z,{priority:!0,src:r.image_url,alt:r.name,layout:"fill"})}),(0,e.jsx)(b,{className:"w-full text-center",title:"".concat(r.id,".").concat(r.name),linkProps:{href:"/restaurants/detail?id=".concat(r.id),as:"".concat("/FontechOrder","/restaurants/detail?id=").concat(r.id)}})]})},"restaurant-grid-".concat(r.name))}))})]})},m=function(){return(0,e.jsx)(o.Z,{children:(0,e.jsxs)(a.Z,{m:2,children:[(0,e.jsx)("div",{children:"Restaurants"}),(0,e.jsx)(h,{})]})})}},7970:function(r,t,n){"use strict";n.d(t,{Z:function(){return p}});var e=n(7294),a=n(4051),o=n.n(a),i=n(3298);function u(r,t,n,e,a,o,i){try{var u=r[o](i),l=u.value}catch(c){return void n(c)}u.done?t(l):Promise.resolve(l).then(e,a)}var l=function(){var r,t=(r=o().mark((function r(){var t,n,e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.O.from("restaurants").select();case 2:if(t=r.sent,n=t.data,!(e=t.error)){r.next=7;break}throw e;case 7:if(n){r.next=9;break}throw new Error("no restaurant list");case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}}),r)})),function(){var t=this,n=arguments;return new Promise((function(e,a){var o=r.apply(t,n);function i(r){u(o,e,a,i,l,"next",r)}function l(r){u(o,e,a,i,l,"throw",r)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),c=n(301),s=n(9664);function f(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function d(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,a,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(r,t)||b(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||b(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(r,t){if(r){if("string"===typeof r)return f(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(r,t):void 0}}var p=function(){var r=d(e.useState([]),2),t=r[0],n=r[1],a=(0,c.Z)({asyncCallback:l}),o=a.isInit,i=a.isLoading,u=a.error,f=a.recall,b=a.result,p=e.useCallback((function(r){if(!r.errors){var e=r.new;e&&n(v(t).concat([e]))}}),[t]),y=e.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;if(a&&!(a<=0)){var o=r.new;if(o){var i=t.map((function(r){return r.id===a?o:r}));n(i)}}}}),[t]),h=e.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;a&&(a<=0||n(t.filter((function(r){return r.id!==a}))))}}),[t]);return(0,s.Z)({path:"restaurants",insertCallback:p,updateCallback:y,deleteCallback:h}),e.useEffect((function(){n(b||[])}),[b]),{isInit:o,isLoading:i,error:u,recall:f,restaurants:t}}},9664:function(r,t,n){"use strict";var e=n(7294),a=n(3298),o=n(1622);t.Z=function(r){var t=r.path,n=r.insertCallback,i=void 0===n?o.G1:n,u=r.updateCallback,l=void 0===u?o.G1:u,c=r.deleteCallback,s=void 0===c?o.G1:c;return e.useEffect((function(){var r=a.O.from(t).on("INSERT",i).on("UPDATE",l).on("DELETE",s).subscribe();return function(){a.O.removeSubscription(r)}}),[t,i,l,s]),{}}}},function(r){r.O(0,[240,245,177,180,774,888,179],(function(){return t=7638,r(r.s=t);var t}));var t=r.O();_N_E=t}]);