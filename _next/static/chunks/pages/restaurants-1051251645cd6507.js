(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{1024:function(r,t,n){"use strict";n.d(t,{Z:function(){return m}});var e=n(7462),a=n(3366),o=n(7294),i=n(6010),u=n(7192),c=n(549),l=n(1239),s=n(5113),f=n(8979);function d(r){return(0,f.Z)("MuiCard",r)}(0,n(6087).Z)("MuiCard",["root"]);var v=n(5893);const b=["className","raised"],y=(0,c.ZP)(s.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,t)=>t.root})((()=>({overflow:"hidden"})));var m=o.forwardRef((function(r,t){const n=(0,l.Z)({props:r,name:"MuiCard"}),{className:o,raised:c=!1}=n,s=(0,a.Z)(n,b),f=(0,e.Z)({},n,{raised:c}),m=(r=>{const{classes:t}=r;return(0,u.Z)({root:["root"]},d,t)})(f);return(0,v.jsx)(y,(0,e.Z)({className:(0,i.Z)(m.root,o),elevation:c?8:void 0,ref:t,ownerState:f},s))}))},7638:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants",function(){return n(9270)}])},1077:function(r,t,n){"use strict";var e=n(5893),a=(n(7294),n(5675)),o=n(1714);function i(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function u(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){i(r,t,n[t])}))}return r}function c(r,t){if(null==r)return{};var n,e,a=function(r,t){if(null==r)return{};var n,e,a={},o=Object.keys(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||(a[n]=r[n]);return a}(r,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(e=0;e<o.length;e++)n=o[e],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}t.Z=function(r){var t=r.alt,n=void 0===t?"zoom-image":t,i=c(r,["alt"]);return(0,e.jsx)(o.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,e.jsx)("div",{className:"relative h-full w-full",children:(0,e.jsx)(a.default,u({},i,{alt:n}))})})}},2648:function(r,t,n){"use strict";var e=n(5893),a=(n(7294),n(6242)),o=n(4229);t.Z=function(r){var t=r.children;return(0,e.jsx)(a.Z,{header:(0,e.jsx)(o.Z,{}),children:t})}},301:function(r,t,n){"use strict";var e=n(7294),a=n(3869);function o(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function i(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,a,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return o(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(r){var t=r.asyncCallback,n=r.customErrorCallback,o=i(e.useState(!0),2),u=o[0],c=o[1],l=e.useCallback((function(){return t}),[t]),s=(0,a.Z)({asyncCallback:l(),customErrorCallback:n}),f=s.isLoading,d=s.error,v=s.result,b=s.recall,y=s.fetchData,m=e.useCallback((function(){y({finishCallBack:function(){c(!1)}})}),[y]),h=e.useCallback((function(){return!u&&b()}),[u,b]);return e.useEffect((function(){u&&(f||m())}),[u,f,m]),e.useEffect((function(){u||m()}),[u,m]),{isInit:u,setIsInit:c,isLoading:f,error:d,result:v,recall:h}}},9270:function(r,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var e=n(5893),a=(n(7294),n(2648)),o=n(6822),i=n(3321),u=n(6886),c=n(1024),l=n(4184),s=n.n(l),f=n(1664);function d(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function v(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),e.forEach((function(t){d(r,t,n[t])}))}return r}var b=function(r){var t=r.isBlank,n=void 0!==t&&t,a=r.className,o=r.title,i=r.linkProps,u=n?{target:"_blank",rel:"noreferrer"}:{};return(0,e.jsx)("div",{className:s()("p-2 text-blue-800 hover:underline",a),children:(0,e.jsx)(f.default,v({},i,{children:(0,e.jsx)("a",v({},u,{children:o}))}))})},y=n(1077),m=n(101),h=function(){var r=(0,m.Z)(),t=r.isInit,n=r.isLoading,a=r.error,l=r.recall,s=r.restaurants;return t?(0,e.jsx)("div",{children:"init..."}):n?(0,e.jsx)("div",{children:"loading..."}):a?(0,e.jsx)("div",{children:"Some error..."}):(0,e.jsxs)(o.Z,{m:2,children:[(0,e.jsx)(i.Z,{variant:"contained",onClick:l,children:"Recall"}),(0,e.jsx)(u.ZP,{container:!0,spacing:2,children:s.map((function(r){return(0,e.jsx)(u.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,e.jsxs)(c.Z,{className:"items-center",variant:"outlined",children:[(0,e.jsx)("div",{className:"relative aspect-[3/4]",children:r.image_url&&(0,e.jsx)(y.Z,{priority:!0,src:r.image_url,alt:r.name,layout:"fill"})}),(0,e.jsx)(b,{className:"w-full text-center",title:"".concat(r.id,".").concat(r.name),linkProps:{href:"/restaurants/detail?id=".concat(r.id),as:"".concat("/FontechOrder","/restaurants/detail?id=").concat(r.id)}})]})},"restaurant-grid-".concat(r.name))}))})]})},p=function(){return(0,e.jsx)(a.Z,{children:(0,e.jsx)(h,{})})}},1364:function(r,t,n){"use strict";var e=n(4051),a=n.n(e),o=n(3298);function i(r,t,n,e,a,o,i){try{var u=r[o](i),c=u.value}catch(l){return void n(l)}u.done?t(c):Promise.resolve(c).then(e,a)}var u=function(){var r,t=(r=a().mark((function r(){var t,n,e;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.O.from("restaurants").select();case 2:if(t=r.sent,n=t.data,!(e=t.error)){r.next=7;break}throw e;case 7:if(n){r.next=9;break}throw new Error("no restaurant list");case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}}),r)})),function(){var t=this,n=arguments;return new Promise((function(e,a){var o=r.apply(t,n);function u(r){i(o,e,a,u,c,"next",r)}function c(r){i(o,e,a,u,c,"throw",r)}u(void 0)}))});return function(){return t.apply(this,arguments)}}();t.Z=u},101:function(r,t,n){"use strict";var e=n(7294),a=n(1364),o=n(301),i=n(9664);function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function c(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,a,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(e=n.next()).done)&&(o.push(e.value),!t||o.length!==t);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(r,t)||s(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(r){return function(r){if(Array.isArray(r))return u(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,t){if(r){if("string"===typeof r)return u(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(r,t):void 0}}t.Z=function(){var r=c(e.useState([]),2),t=r[0],n=r[1],u=(0,o.Z)({asyncCallback:a.Z}),s=u.isInit,f=u.isLoading,d=u.error,v=u.recall,b=u.result,y=e.useCallback((function(r){if(!r.errors){var e=r.new;e&&n(l(t).concat([e]))}}),[t]),m=e.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;if(a&&!(a<=0)){var o=r.new;if(o){var i=t.map((function(r){return r.id===a?o:r}));n(i)}}}}),[t]),h=e.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;a&&(a<=0||n(t.filter((function(r){return r.id!==a}))))}}),[t]);return(0,i.Z)({path:"restaurants",insertCallback:y,updateCallback:m,deleteCallback:h}),e.useEffect((function(){n(b||[])}),[b]),{isInit:s,isLoading:f,error:d,recall:v,restaurants:t}}},9664:function(r,t,n){"use strict";var e=n(7294),a=n(3298),o=n(1622);t.Z=function(r){var t=r.path,n=r.insertCallback,i=void 0===n?o.G1:n,u=r.updateCallback,c=void 0===u?o.G1:u,l=r.deleteCallback,s=void 0===l?o.G1:l;return e.useEffect((function(){var r=a.O.from(t).on("INSERT",i).on("UPDATE",c).on("DELETE",s).subscribe();return function(){a.O.removeSubscription(r)}}),[t,i,c,s]),{}}}},function(r){r.O(0,[240,345,177,213,774,888,179],(function(){return t=7638,r(r.s=t);var t}));var t=r.O();_N_E=t}]);