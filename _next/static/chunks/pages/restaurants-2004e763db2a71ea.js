(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{66242:function(r,t,e){"use strict";e.d(t,{Z:function(){return y}});var n=e(87462),a=e(63366),i=e(67294),o=e(86010),c=e(27192),l=e(40549),u=e(61239),s=e(55113),f=e(28979);function d(r){return(0,f.Z)("MuiCard",r)}(0,e(76087).Z)("MuiCard",["root"]);var v=e(85893);const b=["className","raised"],h=(0,l.ZP)(s.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,t)=>t.root})((()=>({overflow:"hidden"})));var y=i.forwardRef((function(r,t){const e=(0,u.Z)({props:r,name:"MuiCard"}),{className:i,raised:l=!1}=e,s=(0,a.Z)(e,b),f=(0,n.Z)({},e,{raised:l}),y=(r=>{const{classes:t}=r;return(0,c.Z)({root:["root"]},d,t)})(f);return(0,v.jsx)(h,(0,n.Z)({className:(0,o.Z)(y.root,i),elevation:l?8:void 0,ref:t,ownerState:f},s))}))},77638:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants",function(){return e(29270)}])},41077:function(r,t,e){"use strict";var n=e(85893),a=(e(67294),e(25675)),i=e(11714),o=e(14689);function c(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function l(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})))),n.forEach((function(t){c(r,t,e[t])}))}return r}function u(r,t){if(null==r)return{};var e,n,a=function(r,t){if(null==r)return{};var e,n,a={},i=Object.keys(r);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||(a[e]=r[e]);return a}(r,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(a[e]=r[e])}return a}t.Z=function(r){var t=r.withNewTabLink,e=void 0===t||t,c=r.alt,s=void 0===c?"zoom-image":c,f=u(r,["withNewTabLink","alt"]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,n.jsx)("div",{className:"relative h-full w-full",children:(0,n.jsx)(a.default,l({},f,{alt:s}))})}),e&&"string"===typeof f.src&&(0,n.jsx)("div",{className:"absolute top-0 right-0 bg-white bg-opacity-30 shadow-md",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:f.src,children:(0,n.jsx)(o.Z,{fontSize:"large"})})})]})}},12648:function(r,t,e){"use strict";var n=e(85893),a=(e(67294),e(99103)),i=e(44229);t.Z=function(r){var t=r.children;return(0,n.jsx)(a.Z,{header:(0,n.jsx)(i.Z,{}),children:t})}},70301:function(r,t,e){"use strict";var n=e(67294),a=e(63869);function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function o(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,a,i=[],o=!0,c=!1;try{for(e=e.call(r);!(o=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==e.return||e.return()}finally{if(c)throw a}}return i}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return i(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(r){var t=r.asyncCallback,e=r.customErrorCallback,i=o(n.useState(!0),2),c=i[0],l=i[1],u=n.useCallback((function(){return t}),[t]),s=(0,a.Z)({asyncCallback:u(),customErrorCallback:e}),f=s.isLoading,d=s.error,v=s.result,b=s.recall,h=s.fetchData,y=n.useCallback((function(){h({finishCallBack:function(){l(!1)}})}),[h]),m=n.useCallback((function(){return!c&&b()}),[c,b]);return n.useEffect((function(){c&&(f||y())}),[c,f,y]),n.useEffect((function(){c||y()}),[c,y]),{isInit:c,setIsInit:l,isLoading:f,error:d,result:v,recall:m}}},29270:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return p}});var n=e(85893),a=(e(67294),e(12648)),i=e(36822),o=e(83321),c=e(86886),l=e(66242),u=e(94184),s=e.n(u),f=e(41664);function d(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function v(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})))),n.forEach((function(t){d(r,t,e[t])}))}return r}var b=function(r){var t=r.isBlank,e=void 0!==t&&t,a=r.className,i=r.title,o=r.linkProps,c=e?{target:"_blank",rel:"noreferrer"}:{};return(0,n.jsx)("div",{className:s()("p-2 text-blue-800 hover:underline",a),children:(0,n.jsx)(f.default,v({},o,{children:(0,n.jsx)("a",v({},c,{children:i}))}))})},h=e(41077),y=e(40101),m=function(){var r=(0,y.Z)(),t=r.isInit,e=r.isLoading,a=r.error,u=r.recall,s=r.restaurants;return t?(0,n.jsx)("div",{children:"init..."}):e?(0,n.jsx)("div",{children:"loading..."}):a?(0,n.jsx)("div",{children:"Some error..."}):(0,n.jsxs)(i.Z,{m:2,children:[(0,n.jsx)(o.Z,{variant:"contained",onClick:u,children:"Recall"}),(0,n.jsx)(c.ZP,{container:!0,spacing:2,children:s.map((function(r){return(0,n.jsx)(c.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,n.jsxs)(l.Z,{className:"items-center",variant:"outlined",children:[(0,n.jsx)("div",{className:"relative aspect-[3/4]",children:r.image_url&&(0,n.jsx)(h.Z,{priority:!0,src:r.image_url,alt:r.name,layout:"fill"})}),(0,n.jsx)(b,{className:"w-full text-center",title:"".concat(r.id,".").concat(r.name),linkProps:{href:"/restaurants/detail?id=".concat(r.id),as:"".concat("/FontechOrder","/restaurants/detail?id=").concat(r.id)}})]})},"restaurant-grid-".concat(r.name))}))})]})},p=function(){return(0,n.jsx)(a.Z,{children:(0,n.jsx)(m,{})})}},1364:function(r,t,e){"use strict";var n=e(34051),a=e.n(n),i=e(53298);function o(r,t,e,n,a,i,o){try{var c=r[i](o),l=c.value}catch(u){return void e(u)}c.done?t(l):Promise.resolve(l).then(n,a)}var c=function(){var r,t=(r=a().mark((function r(){var t,e,n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.O.from("restaurants").select();case 2:if(t=r.sent,e=t.data,!(n=t.error)){r.next=7;break}throw n;case 7:if(e){r.next=9;break}throw new Error("no restaurant list");case 9:return r.abrupt("return",e);case 10:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,a){var i=r.apply(t,e);function c(r){o(i,n,a,c,l,"next",r)}function l(r){o(i,n,a,c,l,"throw",r)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();t.Z=c},40101:function(r,t,e){"use strict";var n=e(67294),a=e(1364),i=e(70301),o=e(89664);function c(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function l(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,a,i=[],o=!0,c=!1;try{for(e=e.call(r);!(o=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==e.return||e.return()}finally{if(c)throw a}}return i}}(r,t)||s(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,t){if(r){if("string"===typeof r)return c(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(r,t):void 0}}t.Z=function(){var r=l(n.useState([]),2),t=r[0],e=r[1],c=(0,i.Z)({asyncCallback:a.Z}),s=c.isInit,f=c.isLoading,d=c.error,v=c.recall,b=c.result,h=n.useCallback((function(r){if(!r.errors){var n=r.new;n&&e(u(t).concat([n]))}}),[t]),y=n.useCallback((function(r){var n;if(!r.errors){var a=null===(n=r.old)||void 0===n?void 0:n.id;if(a&&!(a<=0)){var i=r.new;if(i){var o=t.map((function(r){return r.id===a?i:r}));e(o)}}}}),[t]),m=n.useCallback((function(r){var n;if(!r.errors){var a=null===(n=r.old)||void 0===n?void 0:n.id;a&&(a<=0||e(t.filter((function(r){return r.id!==a}))))}}),[t]);return(0,o.Z)({path:"restaurants",insertCallback:h,updateCallback:y,deleteCallback:m}),n.useEffect((function(){e(b||[])}),[b]),{isInit:s,isLoading:f,error:d,recall:v,restaurants:t}}},89664:function(r,t,e){"use strict";var n=e(67294),a=e(53298),i=e(41622);t.Z=function(r){var t=r.path,e=r.insertCallback,o=void 0===e?i.G1:e,c=r.updateCallback,l=void 0===c?i.G1:c,u=r.deleteCallback,s=void 0===u?i.G1:u;return n.useEffect((function(){var r=a.O.from(t).on("INSERT",o).on("UPDATE",l).on("DELETE",s).subscribe();return function(){a.O.removeSubscription(r)}}),[t,o,l,s]),{}}}},function(r){r.O(0,[643,954,326,404,774,888,179],(function(){return t=77638,r(r.s=t);var t}));var t=r.O();_N_E=t}]);