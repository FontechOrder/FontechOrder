(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{6540:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant",function(){return e(834)}])},5773:function(t,r,e){"use strict";var n=e(5893),o=(e(7294),e(8826));r.Z=function(t){var r=t.storageImage,e=t.children;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"h-[210px] w-[150px] border",children:r.downloadURL&&(0,n.jsx)(o.Z,{className:"border",objectFit:"contain",src:r.downloadURL,alt:"menu-image",width:500,height:700})}),e]})}},5908:function(t,r,e){"use strict";var n=e(5893),o=e(7294),a=e(4184),i=e.n(a),u=e(1242);r.Z=function(t){var r=t.className,e=t.currentPage,a=t.paginationText,c=t.updatePaginationText,l=t.updateCurrentPage,s=t.maxCurrentPage,f=t.disabledPrev,d=t.prevPaginationButtonPress,y=t.disabledNext,m=t.nextPaginationButtonPress;return o.useEffect((function(){c(e.toString())}),[e,c]),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:i()(r,"mt-[40px] flex flex-row items-center justify-center"),children:[(0,n.jsx)(u.Z,{className:"mx-2",disabled:f,onClick:d,children:"Prev"}),(0,n.jsx)("div",{className:"mx-2",children:(0,n.jsx)("input",{className:"w-[100px] text-center text-black",type:"number",value:a,onBlur:function(t){if(""!==t.target.value){var r=parseInt(t.target.value);r<1||r>s?c(e.toString()):(l(r),c(r.toString()))}else c(e.toString())},onChange:function(t){c(t.target.value)}})}),(0,n.jsx)(u.Z,{className:"mx-2",disabled:y,onClick:m,children:"Next"})]}),(0,n.jsxs)("div",{className:"self-center text-black",children:["\u5171",s,"\u9801"]})]})}},8826:function(t,r,e){"use strict";var n=e(5893),o=(e(7294),e(5675)),a=e(1714);function i(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function u(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),n.forEach((function(r){i(t,r,e[r])}))}return t}function c(t,r){if(null==t)return{};var e,n,o=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}r.Z=function(t){var r=t.alt,e=void 0===r?"zoom-image":r,i=c(t,["alt"]);return(0,n.jsx)(a.Z,{children:(0,n.jsx)(o.default,u({},i,{alt:e}))})}},3681:function(t,r,e){"use strict";var n=e(4051),o=e.n(n),a=e(5321),i=e(5632);function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function c(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(l){return void e(l)}u.done?r(c):Promise.resolve(c).then(n,o)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"===typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var t,r=(t=o().mark((function t(r){var e,n,u,c,s,f,d,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.documentReference,n=r.path,u=r.pathSegments,c=void 0===u?[]:u,s=r.orderByKey,f=e&&a.hJ.apply(void 0,[e,n].concat(l(c)))||a.hJ.apply(void 0,[i.sG,n].concat(l(c))),d=s?a.IO.apply(void 0,[f].concat(l([(0,a.Xo)(s)]))):f,t.next=5,(0,a.PL)(d);case 5:if(0!==(y=t.sent).docs.length){t.next=8;break}throw new Error("querySnapshot no data.");case 8:return t.abrupt("return",y.docs);case 9:case"end":return t.stop()}}),t)})),function(){var r=this,e=arguments;return new Promise((function(n,o){var a=t.apply(r,e);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))});return function(t){return r.apply(this,arguments)}}();r.Z=s},8231:function(t,r,e){"use strict";var n=e(4051),o=e.n(n),a=e(7294),i=e(3681),u=e(4193),c=e(963),l=e(1912);function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function f(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(l){return void e(l)}u.done?r(c):Promise.resolve(c).then(n,o)}function d(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||m(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,r){if(t){if("string"===typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,r):void 0}}r.Z=function(t){var r=t.documentReference,e=t.path,n=t.pathSegments,s=void 0===n?l.uT:n,m=t.orderByKey,v=(0,u.Z)(),p=v.isLoadingHandler,b=v.isLoading,h=v.error,g=v.setError;a.useState(!1);var x=d(a.useState(Array()),2),w=x[0],j=x[1],S=a.useMemo((function(){return w.filter((function(t){return(0,l.wA)(t)}))}),[w]),P=a.useMemo((function(){return S.map((function(t){return(0,l.wA)(t)}))}),[S]),A=a.useMemo((function(){return w.reduce((function(t,r){var e=(0,l.wA)(r);return e?y(t).concat([{doc:r,data:e}]):t}),Array())}),[w]),O=a.useCallback((function(t){(function(){var n,a=(n=o().mark((function n(){var a,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(void 0),j([]),n.prev=2,n.next=5,(0,i.Z)({documentReference:r,path:e,pathSegments:s,orderByKey:m});case 5:a=n.sent,j(a),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),o=n.t0,c=Error,u=(null!=c&&"undefined"!==typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](o):o instanceof c)?n.t0:new Error("getDocuments Error"),g(u);case 13:t();case 14:case"end":return n.stop()}var o,c}),n,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(e,o){var a=n.apply(t,r);function i(t){f(a,e,o,i,u,"next",t)}function u(t){f(a,e,o,i,u,"throw",t)}i(void 0)}))});return function(){return a.apply(this,arguments)}})()()}),[r,e,s,m,g]),C=a.useCallback((function(){p(O)}),[p,O]);return{isInit:(0,c.Z)(C).isInit,isLoading:b,isLoadingHandler:p,error:h,getDocuments:C,documents:w,dataExistsDocuments:S,documentDatas:P,docDatas:A}}},963:function(t,r,e){"use strict";var n=e(7294);function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function a(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(!t)return;if("string"===typeof t)return o(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(t){var r=a(n.useState(!0),2),e=r[0],o=r[1];return n.useEffect((function(){e&&(o(!1),null===t||void 0===t||t())}),[e,t]),{isInit:e,setIsInit:o}}},4193:function(t,r,e){"use strict";e.d(r,{Z:function(){return l}});var n=e(1030),o=e(7294);function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function i(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(!t)return;if("string"===typeof t)return a(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(){var t=i(o.useState(void 0),2);return{error:t[0],setError:t[1]}};function c(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var l=function(){return function(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),n.forEach((function(r){c(t,r,e[r])}))}return t}({},(0,n.Z)(),u())}},4896:function(t,r,e){"use strict";var n=e(7294);function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function a(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(!t)return;if("string"===typeof t)return o(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getPaginationCount:5,getTotalCount:0},r=a(n.useState(1),2),e=r[0],o=r[1],i=a(n.useState((null===t||void 0===t?void 0:t.getPaginationCount)||5),2),u=i[0],c=i[1],l=a(n.useState((null===t||void 0===t?void 0:t.getTotalCount)||0),2),s=l[0],f=l[1],d=n.useMemo((function(){return s<u?1:Math.ceil(s/u)}),[s,u]),y=n.useMemo((function(){return e<=1}),[e]),m=n.useMemo((function(){return e>=d}),[e,d]),v=n.useCallback((function(){e<=1||o(e-1)}),[e]),p=function(){e>=d||o(e+1)};return{currentPage:e,setCurrentPage:o,paginationCount:u,setPaginationCount:c,totalCount:s,setTotalCount:f,maxCurrentPage:d,disabledPrev:y,disabledNext:m,prevPaginationButtonPress:v,nextPaginationButtonPress:p}}},834:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return x}});var n=e(5893),o=e(7294),a=e(8580),i=e(4184),u=e.n(i),c=e(576),l=e(5773),s=e(1912),f=function(t){var r=t.restaurantDoc,e=r.data();return(0,n.jsx)("div",{className:u()((null===e||void 0===e?void 0:e.hidden)&&"bg-white text-black"),children:(0,n.jsxs)(l.Z,{storageImage:(0,s.p)(e),children:[(0,n.jsxs)("div",{className:"px-2",children:["name: ",null===e||void 0===e?void 0:e.name]}),(0,n.jsx)(c.Z,{className:"focus:!shadow-outline disabled:!text-slate-40 rounded bg-blue-500 !py-2 !px-4 font-bold !text-white hover:bg-blue-700 focus:!outline-none disabled:bg-slate-500",title:"Detail",linkProps:{href:"/restaurant/[id]?id=".concat(r.id),as:"".concat("/FontechOrder","/restaurant/").concat(r.id)}})]})})},d=e(5908),y=e(8231),m=e(4896);function v(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function p(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(!t)return;if("string"===typeof t)return v(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return v(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(){var t=p(o.useState(""),2),r=t[0],e=t[1],a=(0,m.Z)(),i=a.currentPage,u=a.setCurrentPage,c=a.paginationCount,l=a.totalCount,s=a.setTotalCount,v=a.maxCurrentPage,b=a.disabledPrev,h=a.disabledNext,g=a.prevPaginationButtonPress,x=a.nextPaginationButtonPress,w=(0,y.Z)({path:"restaurants",orderByKey:"name"}),j=w.isInit,S=w.documents;o.useEffect((function(){var t=S.length||0;s(t)}),[s,S]);var P=o.useMemo((function(){if(!S)return[];var t=(i-1)*c,r=t+c<l?t+c:l;return S.slice(t,r)}),[i,c,l,S]);return j?(0,n.jsx)("div",{children:"restaurant list loading..."}):(0,n.jsxs)("div",{className:"p-4 text-white",children:[(0,n.jsx)("div",{className:"flex flex-row flex-wrap",children:P.map((function(t,r){return(0,n.jsx)(f,{restaurantDoc:t},"restaurant-item-"+r)}))}),(0,n.jsx)(d.Z,{currentPage:i,paginationText:r,updatePaginationText:function(t){e(t)},updateCurrentPage:function(t){u(t)},maxCurrentPage:v,disabledPrev:b,prevPaginationButtonPress:g,disabledNext:h,nextPaginationButtonPress:x})]})},h=e(9726),g=function(){return(0,h.Z)().isCanWriteFireStoreEmailUser?(0,n.jsx)(c.Z,{className:"flex justify-end",title:"\u65b0\u589e\u9ede\u83dc",linkProps:{href:"/restaurant/create",as:"".concat("/FontechOrder","/restaurant/create")}}):null},x=function(){return(0,n.jsx)(a.Z,{children:(0,n.jsxs)("div",{className:"bg-yellow-800",children:[(0,n.jsx)(g,{}),(0,n.jsx)(b,{})]})})}}},function(t){t.O(0,[890,177,580,774,888,179],(function(){return r=6540,t(t.s=r);var r}));var r=t.O();_N_E=r}]);