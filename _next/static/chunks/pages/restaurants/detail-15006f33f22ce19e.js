(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{75503:function(e,n,t){"use strict";var r=t(95318);n.Z=void 0;var i=r(t(64938)),o=t(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=a},90813:function(e,n,t){"use strict";var r=t(95318);n.Z=void 0;var i=r(t(64938)),o=t(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");n.Z=a},57922:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(63366),i=t(87462),o=t(67294),a=t(86010),s=t(98885),l=t(27192),u=t(40549),c=t(61239),d=t(96067),h=t(30577),p=t(2734),f=t(51705),m=t(28979);function x(e){return(0,m.Z)("MuiCollapse",e)}(0,t(76087).Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var v=t(85893);const Z=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],j=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[t.orientation],"entered"===t.state&&n.entered,"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&n.hidden]}})((({theme:e,ownerState:n})=>(0,i.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===n.state&&(0,i.Z)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"}))),g=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,n)=>n.wrapper})((({ownerState:e})=>(0,i.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),y=(0,u.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,n)=>n.wrapperInner})((({ownerState:e})=>(0,i.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),w=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiCollapse"}),{addEndListener:u,children:m,className:w,collapsedSize:b="0px",component:E,easing:C,in:S,onEnter:I,onEntered:k,onEntering:A,onExit:z,onExited:_,onExiting:M,orientation:N="vertical",style:O,timeout:T=d.x9.standard,TransitionComponent:P=s.ZP}=t,R=(0,r.Z)(t,Z),$=(0,i.Z)({},t,{orientation:N,collapsedSize:b}),L=(e=>{const{orientation:n,classes:t}=e,r={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return(0,l.Z)(r,x,t)})($),D=(0,p.Z)(),W=o.useRef(),B=o.useRef(null),H=o.useRef(),F="number"===typeof b?`${b}px`:b,U="horizontal"===N,q=U?"width":"height";o.useEffect((()=>()=>{clearTimeout(W.current)}),[]);const K=o.useRef(null),X=(0,f.Z)(n,K),G=e=>n=>{if(e){const t=K.current;void 0===n?e(t):e(t,n)}},J=()=>B.current?B.current[U?"clientWidth":"clientHeight"]:0,Q=G(((e,n)=>{B.current&&U&&(B.current.style.position="absolute"),e.style[q]=F,I&&I(e,n)})),V=G(((e,n)=>{const t=J();B.current&&U&&(B.current.style.position="");const{duration:r,easing:i}=(0,h.C)({style:O,timeout:T,easing:C},{mode:"enter"});if("auto"===T){const n=D.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,H.current=n}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[q]=`${t}px`,e.style.transitionTimingFunction=i,A&&A(e,n)})),Y=G(((e,n)=>{e.style[q]="auto",k&&k(e,n)})),ee=G((e=>{e.style[q]=`${J()}px`,z&&z(e)})),ne=G(_),te=G((e=>{const n=J(),{duration:t,easing:r}=(0,h.C)({style:O,timeout:T,easing:C},{mode:"exit"});if("auto"===T){const t=D.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,H.current=t}else e.style.transitionDuration="string"===typeof t?t:`${t}ms`;e.style[q]=F,e.style.transitionTimingFunction=r,M&&M(e)}));return(0,v.jsx)(P,(0,i.Z)({in:S,onEnter:Q,onEntered:Y,onEntering:V,onExit:ee,onExited:ne,onExiting:te,addEndListener:e=>{"auto"===T&&(W.current=setTimeout(e,H.current||0)),u&&u(K.current,e)},nodeRef:K,timeout:"auto"===T?null:T},R,{children:(e,n)=>(0,v.jsx)(j,(0,i.Z)({as:E,className:(0,a.Z)(L.root,w,{entered:L.entered,exited:!S&&"0px"===F&&L.hidden}[e]),style:(0,i.Z)({[U?"minWidth":"minHeight"]:F},O),ownerState:(0,i.Z)({},$,{state:e}),ref:X},n,{children:(0,v.jsx)(g,{ownerState:(0,i.Z)({},$,{state:e}),className:L.wrapper,ref:B,children:(0,v.jsx)(y,{ownerState:(0,i.Z)({},$,{state:e}),className:L.wrapperInner,children:m})})}))}))}));w.muiSupportAuto=!0;var b=w},53824:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants/detail",function(){return t(58609)}])},58609:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var r=t(85893),i=t(67294),o=t(46199),a=t(94184),s=t.n(a),l=t(34051),u=t.n(l),c=t(53298);function d(e,n,t,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}var h=function(){var e,n=(e=u().mark((function e(n){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){e.next=4;break}throw new Error("Invalid restaurant id");case 4:return e.next=6,c.O.from("restaurants").select().eq("id",n).limit(1).single();case 6:if(t=e.sent,r=t.data,!(i=t.error)){e.next=11;break}throw i;case 11:if(r){e.next=13;break}throw new Error("no restaurant list");case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),p=t(70301),f=t(89664);function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e){var n=x(i.useState(void 0),2),t=n[0],r=n[1],o=i.useCallback((function(){return h(e)}),[e]),a=(0,p.Z)({asyncCallback:o}),s=a.isInit,l=a.isLoading,u=a.error,c=a.recall,d=a.result,m=i.useCallback((function(e){if(!e.errors){var n=e.new;n&&r(n)}}),[]),v=i.useCallback((function(e){if(!e.errors){var n=e.new;n&&r(n)}}),[]),Z=i.useCallback((function(e){e.errors||r(void 0)}),[]);return(0,f.Z)({path:"restaurants:id=eq.".concat(e),insertCallback:m,updateCallback:v,deleteCallback:Z}),i.useEffect((function(){r(d)}),[d]),{isInit:s,isLoading:l,error:u,recall:c,restaurant:t}},Z=t(36822),j=t(83321),g=t(86886),y=t(41077),w=t(72882),b=t(55113),E=t(7906),C=t(53184),S=t(68509),I=t(53252),k=t(295),A=t(10484),z=t(93946),_=t(57922),M=t(15861),N=t(75503),O=t(90813);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(e){var n=e.restaurantMenuWithItemOption,t=P(i.useState(!1),2),o=t[0],a=t[1],s=i.useMemo((function(){return 0===n.itemOptions.length}),[n]);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(S.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,r.jsx)(I.Z,{children:(0,r.jsx)(z.Z,{disabled:s,"aria-label":"expand row",size:"small",onClick:function(){return a(!o)},children:o?(0,r.jsx)(O.Z,{}):(0,r.jsx)(N.Z,{})})}),(0,r.jsx)(I.Z,{component:"th",scope:"row",children:n.name}),(0,r.jsx)(I.Z,{align:"right",children:n.cost}),(0,r.jsx)(I.Z,{align:"right",children:n.type})]}),(0,r.jsx)(S.Z,{children:(0,r.jsx)(I.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,r.jsx)(_.Z,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,r.jsxs)(Z.Z,{sx:{margin:1},children:[(0,r.jsx)(M.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Options"}),(0,r.jsxs)(E.Z,{size:"small","aria-label":"purchases",children:[(0,r.jsx)(C.Z,{children:(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)(I.Z,{children:"Type"}),(0,r.jsx)(I.Z,{children:"Name"}),(0,r.jsx)(I.Z,{align:"right",children:"Cost"})]})}),(0,r.jsx)(k.Z,{children:n.itemOptions.map((function(e){return(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)(I.Z,{children:e.type}),(0,r.jsx)(I.Z,{component:"th",scope:"row",children:e.name}),(0,r.jsx)(I.Z,{align:"right",children:e.cost})]},e.name)}))})]})]})})})})]})},$=function(e){var n=e.id,t=(0,A.Z)(n),i=t.menuInit,o=t.menuIsLoading,a=t.menuError,s=t.restaurantMenuWithItemOptions;return i?(0,r.jsx)("div",{children:"is Init..."}):o?(0,r.jsx)("div",{children:"Loading..."}):a?(0,r.jsx)("div",{children:"menu Error"}):(0,r.jsx)(w.Z,{component:b.Z,children:(0,r.jsxs)(E.Z,{"aria-label":"collapsible table",children:[(0,r.jsx)(C.Z,{children:(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)(I.Z,{children:"Name"}),(0,r.jsx)(I.Z,{align:"right",children:"Cost"}),(0,r.jsx)(I.Z,{align:"right",children:"Type"})]})}),(0,r.jsx)(k.Z,{children:s.map((function(e){return(0,r.jsx)(R,{restaurantMenuWithItemOption:e},e.name)}))})]})})},L=t(29726),D=function(){var e=(0,L.Z)().user;return e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["name: ",e.name]}),(0,r.jsxs)("div",{children:["eamil: ",e.email]})]}):(0,r.jsx)("div",{children:"AuthBox"})},W=function(e){var n=e.id,t=v(n),i=t.isInit,o=t.isLoading,a=t.error,l=t.recall,u=t.restaurant;return i?(0,r.jsx)("div",{children:"content init..."}):o?(0,r.jsx)("div",{children:"loading..."}):a?(0,r.jsx)("div",{children:"Get Error..."}):u?(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(j.Z,{variant:"contained",onClick:l,children:"Recall"}),(0,r.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(g.ZP,{item:!0,xs:4,sm:4,md:3,children:(0,r.jsxs)(Z.Z,{className:s()("relative aspect-[3/4]",!u.image_url&&"bg-blue-300"),children:[u.name,u.image_url&&(0,r.jsx)(y.Z,{priority:!0,src:u.image_url,alt:u.name,layout:"fill"})]})}),(0,r.jsx)(g.ZP,{item:!0,xs:8,sm:8,md:9,children:(0,r.jsx)(Z.Z,{className:"flex h-full items-center justify-center bg-yellow-500",children:(0,r.jsx)(D,{})})}),(0,r.jsx)(g.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,r.jsx)($,{id:n})})]})]}):(0,r.jsx)("div",{children:"Invalid Restaurant"})},B=function(){return(0,r.jsx)(o.Z,{children:function(e){return(0,r.jsx)(W,{id:e})}})}}},function(e){e.O(0,[643,954,326,411,404,860,774,888,179],(function(){return n=53824,e(e.s=n);var n}));var n=e.O();_N_E=n}]);