(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{3824:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants/detail",function(){return e(8609)}])},8609:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return U}});var t=e(5893),i=e(7294),a=e(6199),s=e(4184),l=e.n(s),o=e(4051),c=e.n(o),u=e(3298);function d(r,n,e,t,i,a,s){try{var l=r[a](s),o=l.value}catch(c){return void e(c)}l.done?n(o):Promise.resolve(o).then(t,i)}var h=function(){var r,n=(r=c().mark((function r(n){var e,t,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,u.O.from("restaurants").select().eq("id",n).limit(1).single();case 6:if(e=r.sent,t=e.data,!(i=e.error)){r.next=11;break}throw i;case 11:if(t){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(t,i){var a=r.apply(n,e);function s(r){d(a,t,i,s,l,"next",r)}function l(r){d(a,t,i,s,l,"throw",r)}s(void 0)}))});return function(r){return n.apply(this,arguments)}}(),f=e(301),x=e(9664);function m(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function j(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,i,a=[],s=!0,l=!1;try{for(e=e.call(r);!(s=(t=e.next()).done)&&(a.push(t.value),!n||a.length!==n);s=!0);}catch(o){l=!0,i=o}finally{try{s||null==e.return||e.return()}finally{if(l)throw i}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return m(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(r){var n=j(i.useState(void 0),2),e=n[0],t=n[1],a=i.useCallback((function(){return h(r)}),[r]),s=(0,f.Z)({asyncCallback:a}),l=s.isInit,o=s.isLoading,c=s.error,u=s.recall,d=s.result,m=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&t(n)}}),[]),p=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&t(n)}}),[]),v=i.useCallback((function(r){r.errors||t(void 0)}),[]);return(0,x.Z)({path:"restaurants:id=eq.".concat(r),insertCallback:m,updateCallback:p,deleteCallback:v}),i.useEffect((function(){t(d)}),[d]),{isInit:l,isLoading:o,error:c,recall:u,restaurant:e}},v=e(6822),Z=e(3321),y=e(6886),b=e(1077),g=e(2882),w=e(5113),k=e(7906),I=e(3184),C=e(8509),E=e(3252),_=e(295),O=e(484),A=e(3946),S=e(7922),N=e(5861),P=e(5503),T=e(813);function M(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function L(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,i,a=[],s=!0,l=!1;try{for(e=e.call(r);!(s=(t=e.next()).done)&&(a.push(t.value),!n||a.length!==n);s=!0);}catch(o){l=!0,i=o}finally{try{s||null==e.return||e.return()}finally{if(l)throw i}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return M(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return M(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(r){var n=r.restaurantMenuWithItemOption,e=L(i.useState(!1),2),a=e[0],s=e[1],l=i.useMemo((function(){return 0===n.itemOptions.length}),[n]);return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsxs)(C.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,t.jsx)(E.Z,{children:(0,t.jsx)(A.Z,{disabled:l,"aria-label":"expand row",size:"small",onClick:function(){return s(!a)},children:a?(0,t.jsx)(T.Z,{}):(0,t.jsx)(P.Z,{})})}),(0,t.jsx)(E.Z,{component:"th",scope:"row",children:n.name}),(0,t.jsx)(E.Z,{align:"right",children:n.cost}),(0,t.jsx)(E.Z,{align:"right",children:n.type})]}),(0,t.jsx)(C.Z,{children:(0,t.jsx)(E.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,t.jsx)(S.Z,{in:a,timeout:"auto",unmountOnExit:!0,children:(0,t.jsxs)(v.Z,{sx:{margin:1},children:[(0,t.jsx)(N.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Options"}),(0,t.jsxs)(k.Z,{size:"small","aria-label":"purchases",children:[(0,t.jsx)(I.Z,{children:(0,t.jsxs)(C.Z,{children:[(0,t.jsx)(E.Z,{}),(0,t.jsx)(E.Z,{children:"Type"}),(0,t.jsx)(E.Z,{children:"Name"}),(0,t.jsx)(E.Z,{align:"right",children:"Cost"})]})}),(0,t.jsx)(_.Z,{children:n.itemOptions.map((function(r){return(0,t.jsxs)(C.Z,{children:[(0,t.jsx)(E.Z,{}),(0,t.jsx)(E.Z,{children:r.type}),(0,t.jsx)(E.Z,{component:"th",scope:"row",children:r.name}),(0,t.jsx)(E.Z,{align:"right",children:r.cost})]},r.name)}))})]})]})})})})]})},W=function(r){var n=r.id,e=(0,O.Z)(n),i=e.menuInit,a=e.menuIsLoading,s=e.menuError,l=e.restaurantMenuWithItemOptions;return i?(0,t.jsx)("div",{children:"is Init..."}):a?(0,t.jsx)("div",{children:"Loading..."}):s?(0,t.jsx)("div",{children:"menu Error"}):(0,t.jsx)(g.Z,{component:w.Z,children:(0,t.jsxs)(k.Z,{"aria-label":"collapsible table",children:[(0,t.jsx)(I.Z,{children:(0,t.jsxs)(C.Z,{children:[(0,t.jsx)(E.Z,{}),(0,t.jsx)(E.Z,{children:"Name"}),(0,t.jsx)(E.Z,{align:"right",children:"Cost"}),(0,t.jsx)(E.Z,{align:"right",children:"Type"})]})}),(0,t.jsx)(_.Z,{children:l.map((function(r){return(0,t.jsx)(B,{restaurantMenuWithItemOption:r},r.name)}))})]})})},q=e(9726),z=function(){var r=(0,q.Z)().user;return r?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:["name: ",r.name]}),(0,t.jsxs)("div",{children:["eamil: ",r.email]})]}):(0,t.jsx)("div",{children:"AuthBox"})},R=function(r){var n=r.id,e=p(n),i=e.isInit,a=e.isLoading,s=e.error,o=e.recall,c=e.restaurant;return i?(0,t.jsx)("div",{children:"content init..."}):a?(0,t.jsx)("div",{children:"loading..."}):s?(0,t.jsx)("div",{children:"Get Error..."}):c?(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(Z.Z,{variant:"contained",onClick:o,children:"Recall"}),(0,t.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(y.ZP,{item:!0,xs:4,sm:4,md:3,children:(0,t.jsxs)(v.Z,{className:l()("relative aspect-[3/4]",!c.image_url&&"bg-blue-300"),children:[c.name,c.image_url&&(0,t.jsx)(b.Z,{priority:!0,src:c.image_url,alt:c.name,layout:"fill"})]})}),(0,t.jsx)(y.ZP,{item:!0,xs:8,sm:8,md:9,children:(0,t.jsx)(v.Z,{className:"flex h-full items-center justify-center bg-yellow-500",children:(0,t.jsx)(z,{})})}),(0,t.jsx)(y.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,t.jsx)(W,{id:n})})]})]}):(0,t.jsx)("div",{children:"Invalid Restaurant"})},U=function(){return(0,t.jsx)(a.Z,{children:function(r){return(0,t.jsx)(R,{id:r})}})}}},function(r){r.O(0,[240,345,177,411,380,213,860,774,888,179],(function(){return n=3824,r(r.s=n);var n}));var n=r.O();_N_E=n}]);