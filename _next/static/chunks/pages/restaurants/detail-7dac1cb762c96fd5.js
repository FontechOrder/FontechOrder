(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{3824:function(r,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants/detail",function(){return t(9841)}])},9841:function(r,n,t){"use strict";t.r(n),t.d(n,{default:function(){return cr}});var e=t(5893),i=t(7294),a=t(7357),o=t(2567),u=t(4051),c=t.n(u),l=t(1163),s=t(5590);function f(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function d(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}function h(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,a=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return f(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(){var r=h(i.useState(!0),2),n=r[0],t=r[1],e=(0,l.useRouter)().query.id,a=i.useMemo((function(){return(0,s.W$)(e)}),[e]),o=i.useMemo((function(){var r=parseInt(a);if(r&&!(r<=0))return r}),[a]);return i.useEffect((function(){(function(){var r,n=(r=c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s._v)(500);case 2:t(!1);case 3:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var a=r.apply(n,t);function o(r){d(a,e,i,o,u,"next",r)}function u(r){d(a,e,i,o,u,"throw",r)}o(void 0)}))});return function(){return n.apply(this,arguments)}})()()}),[t]),{id:o,idText:a,isInit:n}},m=t(4184),p=t.n(m),y=t(3298);function b(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}var x=function(){var r,n=(r=c().mark((function r(n){var t,e,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,y.O.from("restaurants").select().eq("id",n).limit(1).single();case 6:if(t=r.sent,e=t.data,!(i=t.error)){r.next=11;break}throw i;case 11:if(e){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",e);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var a=r.apply(n,t);function o(r){b(a,e,i,o,u,"next",r)}function u(r){b(a,e,i,o,u,"throw",r)}o(void 0)}))});return function(r){return n.apply(this,arguments)}}(),w=t(2962),j=t(9664);function g(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function I(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,a=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return g(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(r){var n=I(i.useState(void 0),2),t=n[0],e=n[1],a=i.useCallback((function(){return x(r)}),[r]),o=(0,w.Z)({asyncCallback:a}),u=o.isInit,c=o.isLoading,l=o.error,s=o.recall,f=o.result,d=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&e(n)}}),[]),h=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&e(n)}}),[]),v=i.useCallback((function(r){r.errors||e(void 0)}),[]);return(0,j.Z)({path:"restaurants:id=eq.".concat(r),insertCallback:d,updateCallback:h,deleteCallback:v}),i.useEffect((function(){e(f)}),[f]),{isInit:u,isLoading:c,error:l,recall:s,restaurant:t}},k=t(6886),S=t(1077),A=t(5113),C=t(7922),E=t(3946),O=t(7906),_=t(295),P=t(3252),M=t(2882),T=t(3184),L=t(3816),N=t(5861),q=t(5503),$=t(813);function U(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}var B=function(){var r,n=(r=c().mark((function r(n){var t,e,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,y.O.from("menu_item_options").select().eq("restaurant",n);case 6:if(t=r.sent,e=t.data,!(i=t.error)){r.next=11;break}throw i;case 11:if(e){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",e);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var a=r.apply(n,t);function o(r){U(a,e,i,o,u,"next",r)}function u(r){U(a,e,i,o,u,"throw",r)}o(void 0)}))});return function(r){return n.apply(this,arguments)}}();function W(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function z(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}function F(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,a=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||X(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(r){return function(r){if(Array.isArray(r))return W(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||X(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(r,n){if(r){if("string"===typeof r)return W(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W(r,n):void 0}}var D=function(r){var n,t=F(i.useState([]),2),e=t[0],a=t[1],o=i.useCallback((function(){return B(r)}),[r]),u=(0,w.Z)({asyncCallback:(n=c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(e,i){var a=n.apply(r,t);function o(r){z(a,e,i,o,u,"next",r)}function u(r){z(a,e,i,o,u,"throw",r)}o(void 0)}))})}),l=u.isInit,s=u.isLoading,f=u.error,d=u.recall,h=u.result,v=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&a(R(e).concat([n]))}}),[e]),m=i.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;if(t&&!(t<=0)){var i=r.new;if(i){var o=e.map((function(r){return r.id===t?i:r}));a(o)}}}}),[e]),p=i.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;t&&(t<=0||a(e.filter((function(r){return r.id!==t}))))}}),[e]);return(0,j.Z)({path:"menu_item_options:restaurant=eq.".concat(r),insertCallback:v,updateCallback:m,deleteCallback:p}),i.useEffect((function(){a(h||[])}),[h]),{isInit:l,isLoading:s,error:f,recall:d,restaurantMenuItemOptions:e}};function G(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}var H=function(){var r,n=(r=c().mark((function r(n){var t,e,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,y.O.from("menu_items").select().eq("restaurant",n);case 6:if(t=r.sent,e=t.data,!(i=t.error)){r.next=11;break}throw i;case 11:if(e){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",e);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var a=r.apply(n,t);function o(r){G(a,e,i,o,u,"next",r)}function u(r){G(a,e,i,o,u,"throw",r)}o(void 0)}))});return function(r){return n.apply(this,arguments)}}();function J(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function K(r,n,t,e,i,a,o){try{var u=r[a](o),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,i)}function Q(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,a=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||Y(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(r){return function(r){if(Array.isArray(r))return J(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||Y(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(r,n){if(r){if("string"===typeof r)return J(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J(r,n):void 0}}var rr=function(r){var n,t=Q(i.useState([]),2),e=t[0],a=t[1],o=i.useCallback((function(){return H(r)}),[r]),u=(0,w.Z)({asyncCallback:(n=c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(e,i){var a=n.apply(r,t);function o(r){K(a,e,i,o,u,"next",r)}function u(r){K(a,e,i,o,u,"throw",r)}o(void 0)}))})}),l=u.isInit,s=u.isLoading,f=u.error,d=u.recall,h=u.result,v=i.useCallback((function(r){if(!r.errors){var n=r.new;n&&a(V(e).concat([n]))}}),[e]),m=i.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;if(t&&!(t<=0)){var i=r.new;if(i){var o=e.map((function(r){return r.id===t?i:r}));a(o)}}}}),[e]),p=i.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;t&&(t<=0||a(e.filter((function(r){return r.id!==t}))))}}),[e]);return(0,j.Z)({path:"menu_items:restaurant=eq.".concat(r),insertCallback:v,updateCallback:m,deleteCallback:p}),i.useEffect((function(){a(h||[])}),[h]),{isInit:l,isLoading:s,error:f,recall:d,restaurantMenus:e}};function nr(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}var tr=function(r){var n=rr(r),t=n.isInit,e=n.isLoading,a=n.error,o=n.restaurantMenus,u=D(r),c=u.isInit,l=u.isLoading,s=u.error,f=u.restaurantMenuItemOptions;return{menuInit:i.useMemo((function(){return t||c}),[t,c]),menuIsLoading:i.useMemo((function(){return e||l}),[e,l]),menuError:i.useMemo((function(){return a||s}),[a,s]),restaurantMenuWithItemOptions:i.useMemo((function(){return o.map((function(r){return function(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){nr(r,n,t[n])}))}return r}({},r,{itemOptions:f.filter((function(n){return n.menu_item===r.id}))})}))}),[o,f])}};function er(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function ir(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,a=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return er(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return er(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ar=function(r){var n=r.id,t=ir(i.useState(!1),2),o=t[0],u=t[1],c=tr(n),l=c.menuInit,s=c.menuIsLoading,f=c.menuError,d=c.restaurantMenuWithItemOptions;return l?(0,e.jsx)("div",{children:"is Init..."}):s?(0,e.jsx)("div",{children:"Loading..."}):f?(0,e.jsx)("div",{children:"menu Error"}):(0,e.jsx)(M.Z,{component:A.Z,children:(0,e.jsxs)(O.Z,{"aria-label":"collapsible table",children:[(0,e.jsx)(T.Z,{children:(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(P.Z,{}),(0,e.jsx)(P.Z,{children:"Name"}),(0,e.jsx)(P.Z,{align:"right",children:"Cost"}),(0,e.jsx)(P.Z,{align:"right",children:"Type"})]})}),(0,e.jsx)(_.Z,{children:d.map((function(r){return(0,e.jsxs)(i.Fragment,{children:[(0,e.jsxs)(L.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,e.jsx)(P.Z,{children:(0,e.jsx)(E.Z,{"aria-label":"expand row",size:"small",onClick:function(){return u(!o)},children:o?(0,e.jsx)($.Z,{}):(0,e.jsx)(q.Z,{})})}),(0,e.jsx)(P.Z,{component:"th",scope:"row",children:r.name}),(0,e.jsx)(P.Z,{align:"right",children:r.cost}),(0,e.jsx)(P.Z,{align:"right",children:r.type})]}),(0,e.jsx)(L.Z,{children:(0,e.jsx)(P.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,e.jsx)(C.Z,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,e.jsxs)(a.Z,{sx:{margin:1},children:[(0,e.jsx)(N.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Options"}),(0,e.jsxs)(O.Z,{size:"small","aria-label":"purchases",children:[(0,e.jsx)(T.Z,{children:(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(P.Z,{children:"Name"}),(0,e.jsx)(P.Z,{children:"Cost"}),(0,e.jsx)(P.Z,{align:"right",children:"Type"})]})}),(0,e.jsx)(_.Z,{children:r.itemOptions.map((function(r){return(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(P.Z,{component:"th",scope:"row",children:r.name}),(0,e.jsx)(P.Z,{children:r.cost}),(0,e.jsx)(P.Z,{align:"right",children:r.type})]},r.name)}))})]})]})})})})]},r.name)}))})]})})},or=function(r){var n=r.id,t=Z(n),i=t.isInit,o=t.isLoading,u=t.error,c=t.restaurant;return i?(0,e.jsx)("div",{children:"content init..."}):o?(0,e.jsx)("div",{children:"loading..."}):u?(0,e.jsx)("div",{children:"Get Error..."}):c?(0,e.jsx)(a.Z,{children:(0,e.jsxs)(k.ZP,{container:!0,spacing:2,children:[(0,e.jsx)(k.ZP,{item:!0,xs:4,sm:4,md:3,children:(0,e.jsxs)(a.Z,{className:p()("relative aspect-[3/4]",!c.image_url&&"bg-blue-300"),children:[c.name,c.image_url&&(0,e.jsx)(S.Z,{priority:!0,src:c.image_url,alt:c.name,layout:"fill"})]})}),(0,e.jsx)(k.ZP,{item:!0,xs:8,sm:8,md:9,children:(0,e.jsx)(a.Z,{className:"flex h-full items-center justify-center bg-yellow-500",children:"Form"})}),(0,e.jsx)(k.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,e.jsx)(ar,{id:n})})]})}):(0,e.jsx)("div",{children:"Invalid Restaurant"})},ur=function(){var r=v(),n=r.isInit,t=r.id;return n?(0,e.jsx)("div",{children:"Init..."}):t?(0,e.jsx)(or,{id:t}):(0,e.jsx)("div",{children:"Invalid Id"})},cr=function(){return(0,e.jsx)(o.Z,{children:(0,e.jsx)(a.Z,{m:2,children:(0,e.jsx)(ur,{})})})}}},function(r){r.O(0,[742,6,545,168,451,774,888,179],(function(){return n=3824,r(r.s=n);var n}));var n=r.O();_N_E=n}]);