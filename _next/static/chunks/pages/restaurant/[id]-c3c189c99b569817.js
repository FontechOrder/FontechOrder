(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{5333:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/[id]",function(){return r(9891)}])},5908:function(t,e,r){"use strict";var n=r(5893),a=r(7294),o=r(4184),i=r.n(o),u=r(1242);e.Z=function(t){var e=t.className,r=t.currentPage,o=t.paginationText,l=t.updatePaginationText,c=t.updateCurrentPage,s=t.maxCurrentPage,f=t.disabledPrev,d=t.prevPaginationButtonPress,m=t.disabledNext,y=t.nextPaginationButtonPress;return a.useEffect((function(){l(r.toString())}),[r,l]),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:i()(e,"mt-[40px] flex flex-row items-center justify-center"),children:[(0,n.jsx)(u.Z,{className:"mx-2",disabled:f,onClick:d,children:"Prev"}),(0,n.jsx)("div",{className:"mx-2",children:(0,n.jsx)("input",{className:"w-[100px] text-center text-black",type:"number",value:o,onBlur:function(t){if(""!==t.target.value){var e=parseInt(t.target.value);e<1||e>s?l(r.toString()):(c(e),l(e.toString()))}else l(r.toString())},onChange:function(t){l(t.target.value)}})}),(0,n.jsx)(u.Z,{className:"mx-2",disabled:m,onClick:y,children:"Next"})]}),(0,n.jsxs)("div",{className:"self-center text-black",children:["\u5171",s,"\u9801"]})]})}},8826:function(t,e,r){"use strict";var n=r(5893),a=(r(7294),r(5675)),o=r(1714);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}function l(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}e.Z=function(t){var e=t.alt,r=void 0===e?"zoom-image":e,i=l(t,["alt"]);return(0,n.jsx)(o.Z,{children:(0,n.jsx)(a.default,u({},i,{alt:r}))})}},3681:function(t,e,r){"use strict";var n=r(4051),a=r.n(n),o=r(5321),i=r(5632);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e,r,n,a,o,i){try{var u=t[o](i),l=u.value}catch(c){return void r(c)}u.done?e(l):Promise.resolve(l).then(n,a)}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var t,e=(t=a().mark((function t(e){var r,n,u,l,s,f,d,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.documentReference,n=e.path,u=e.pathSegments,l=void 0===u?[]:u,s=e.orderByKey,f=r&&o.hJ.apply(void 0,[r,n].concat(c(l)))||o.hJ.apply(void 0,[i.sG,n].concat(c(l))),d=s?o.IO.apply(void 0,[f].concat(c([(0,o.Xo)(s)]))):f,t.next=5,(0,o.PL)(d);case 5:if(0!==(m=t.sent).docs.length){t.next=8;break}throw new Error("querySnapshot no data.");case 8:return t.abrupt("return",m.docs);case 9:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){l(o,n,a,i,u,"next",t)}function u(t){l(o,n,a,i,u,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();e.Z=s},8231:function(t,e,r){"use strict";var n=r(4051),a=r.n(n),o=r(7294),i=r(3681),u=r(4193),l=r(963),c=r(1912);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e,r,n,a,o,i){try{var u=t[o](i),l=u.value}catch(c){return void r(c)}u.done?e(l):Promise.resolve(l).then(n,a)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}e.Z=function(t){var e=t.documentReference,r=t.path,n=t.pathSegments,s=void 0===n?c.uT:n,y=t.orderByKey,p=(0,u.Z)(),v=p.isLoadingHandler,h=p.isLoading,b=p.error,g=p.setError;o.useState(!1);var x=d(o.useState(Array()),2),w=x[0],S=x[1],j=o.useMemo((function(){return w.filter((function(t){return(0,c.wA)(t)}))}),[w]),P=o.useMemo((function(){return j.map((function(t){return(0,c.wA)(t)}))}),[j]),A=o.useMemo((function(){return w.reduce((function(t,e){var r=(0,c.wA)(e);return r?m(t).concat([{doc:e,data:r}]):t}),Array())}),[w]),O=o.useCallback((function(t){(function(){var n,o=(n=a().mark((function n(){var o,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(void 0),S([]),n.prev=2,n.next=5,(0,i.Z)({documentReference:e,path:r,pathSegments:s,orderByKey:y});case 5:o=n.sent,S(o),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),a=n.t0,l=Error,u=(null!=l&&"undefined"!==typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](a):a instanceof l)?n.t0:new Error("getDocuments Error"),g(u);case 13:t();case 14:case"end":return n.stop()}var a,l}),n,null,[[2,9]])})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function i(t){f(o,r,a,i,u,"next",t)}function u(t){f(o,r,a,i,u,"throw",t)}i(void 0)}))});return function(){return o.apply(this,arguments)}})()()}),[e,r,s,y,g]),I=o.useCallback((function(){v(O)}),[v,O]);return{isInit:(0,l.Z)(I).isInit,isLoading:h,isLoadingHandler:v,error:b,getDocuments:I,documents:w,dataExistsDocuments:j,documentDatas:P,docDatas:A}}},5572:function(t,e,r){"use strict";var n=r(4051),a=r.n(n),o=r(7294),i=r(7633),u=r(4193),l=r(963),c=r(1912);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e,r,n,a,o,i){try{var u=t[o](i),l=u.value}catch(c){return void r(c)}u.done?e(l):Promise.resolve(l).then(n,a)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(t){var e=t.documentReference,r=t.path,n=t.pathSegments,s=void 0===n?c.uT:n,m=(0,u.Z)(),y=m.isLoadingHandler,p=m.isLoading,v=m.error,h=m.setError;o.useState(!1);var b=d(o.useState(void 0),2),g=b[0],x=b[1],w=o.useMemo((function(){return(0,c.wA)(g)}),[g]),S=o.useCallback((function(t){(function(){var n,o=(n=a().mark((function n(){var o,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(void 0),x(void 0),n.prev=2,n.next=5,(0,i.Z)({documentReference:e,path:r,pathSegments:s});case 5:o=n.sent,x(o),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),a=n.t0,l=Error,u=(null!=l&&"undefined"!==typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](a):a instanceof l)?n.t0:new Error("getDocuments Error"),h(u);case 13:t();case 14:case"end":return n.stop()}var a,l}),n,null,[[2,9]])})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function i(t){f(o,r,a,i,u,"next",t)}function u(t){f(o,r,a,i,u,"throw",t)}i(void 0)}))});return function(){return o.apply(this,arguments)}})()()}),[e,r,s,h]),j=o.useCallback((function(){y(S)}),[y,S]);return{isInit:(0,l.Z)(j).isInit,isLoading:p,isLoadingHandler:y,error:v,getDocument:j,document:g,data:w}}},963:function(t,e,r){"use strict";var n=r(7294);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(t){var e=o(n.useState(!0),2),r=e[0],a=e[1];return n.useEffect((function(){r&&(a(!1),null===t||void 0===t||t())}),[r,t]),{isInit:r,setIsInit:a}}},4193:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=r(1030),a=r(7294);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(){var t=i(a.useState(void 0),2);return{error:t[0],setError:t[1]}};function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){l(t,e,r[e])}))}return t}({},(0,n.Z)(),u())}},4896:function(t,e,r){"use strict";var n=r(7294);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getPaginationCount:5,getTotalCount:0},e=o(n.useState(1),2),r=e[0],a=e[1],i=o(n.useState((null===t||void 0===t?void 0:t.getPaginationCount)||5),2),u=i[0],l=i[1],c=o(n.useState((null===t||void 0===t?void 0:t.getTotalCount)||0),2),s=c[0],f=c[1],d=n.useMemo((function(){return s<u?1:Math.ceil(s/u)}),[s,u]),m=n.useMemo((function(){return r<=1}),[r]),y=n.useMemo((function(){return r>=d}),[r,d]),p=n.useCallback((function(){r<=1||a(r-1)}),[r]),v=function(){r>=d||a(r+1)};return{currentPage:r,setCurrentPage:a,paginationCount:u,setPaginationCount:l,totalCount:s,setTotalCount:f,maxCurrentPage:d,disabledPrev:m,disabledNext:y,prevPaginationButtonPress:p,nextPaginationButtonPress:v}}},9891:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return U}});var n=r(5893),a=r(7294),o=r(1163),i=r(8580),u=r(5572),l=r(1912),c=r(5908),s=r(8231),f=r(4896);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(t){var e=t.restaurantDoc,r=a.useMemo((function(){return e.ref}),[e]),o=(0,s.Z)({documentReference:r,path:"menuItems"}),i=o.isInit,u=o.dataExistsDocuments,d=m(a.useState(""),2),y=d[0],p=d[1],v=(0,f.Z)(),h=v.currentPage,b=v.setCurrentPage,g=v.totalCount,x=v.setTotalCount,w=v.maxCurrentPage,S=v.disabledPrev,j=v.disabledNext,P=v.prevPaginationButtonPress,A=v.nextPaginationButtonPress;if(a.useEffect((function(){x(u.length)}),[u,x]),i)return(0,n.jsx)("div",{children:"menu is loading..."});return(0,n.jsxs)("div",{className:"-mx-2 flex flex-col py-4",children:[(0,n.jsx)("div",{className:"text-gray",children:"Restaurant Menu List"}),(0,n.jsx)("div",{className:"relative flex flex-col",children:u.map((function(t,e){return(0,n.jsx)("div",{className:"text-gray flex w-full flex-row flex-wrap py-1 lg:w-1/4",children:(0,n.jsx)("div",{className:"flex flex-row",children:["name","cost"].map((function(e,r){var a;return(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)("div",{className:"pr-2",children:null===(a=(0,l.wA)(t))||void 0===a?void 0:a[e]})},"menu-item-field-"+r)}))})},"menu-item-"+e)}))}),g?(0,n.jsx)(c.Z,{currentPage:h,paginationText:y,updatePaginationText:function(t){p(t)},updateCurrentPage:function(t){b(t)},maxCurrentPage:w,disabledPrev:S,prevPaginationButtonPress:P,disabledNext:j,nextPaginationButtonPress:A}):null]})},p=r(8826),v=r(4051),h=r.n(v),b=r(4184),g=r.n(b),x=r(4231),w=r(2175),S=r(9726),j=r(9151),P=r(1242),A=r(4832),O=r(8973);function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C(t,e,r,n,a,o,i){try{var u=t[o](i),l=u.value}catch(c){return void r(c)}u.done?e(l):Promise.resolve(l).then(n,a)}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){N(t,e,r[e])}))}return t}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(l){u=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k,T=[{id:A.I1.name,label:"\u540d\u7a31*",type:"text",placeholder:"\u540d\u7a31 (string)"},{id:A.I1.cost,label:"\u50f9\u683c*",type:"number",placeholder:"10~200 (number)"},{id:A.I1.type,label:"\u985e\u5225*",type:"text",placeholder:"\u985e\u5225 (string)"}],M=(N(k={},A.I1.name,""),N(k,A.I1.cost,0),N(k,A.I1.hidden,"false"),N(k,A.I1.type,""),k),D=x.Ry().shape({name:x.Z_().required("\u672c\u6b04\u4f4d\u70ba\u5fc5\u586b"),cost:x.Rx().integer("\u8acb\u8f38\u5165\u6574\u6578").min(10,"\u81f3\u5c1110\u5143").max(130,"\u4e0d\u53ef\u8d85\u904e130\u5143").required("\u672c\u6b04\u4f4d\u70ba\u5fc5\u586b"),hidden:x.O7(),type:x.Z_().required("\u672c\u6b04\u4f4d\u70ba\u5fc5\u586b")}),_=function(t){var e=t.className,r=t.restaurantDoc,o=t.resultSuccessCallback,i=Z(a.useState(!1),2),u=i[0],l=i[1],c=Z(a.useState(""),1)[0],s=Z(a.useState(void 0),2),f=s[0],d=s[1],m=(0,w.TA)({initialValues:M,validationSchema:D,enableReinitialize:!0,onSubmit:function(){var t,e=(t=h().mark((function t(e){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=2;break}return t.abrupt("return");case 2:return l(!0),n=E({},e,{hidden:"true"===e.hidden}),t.prev=4,t.next=7,(0,O.Z)({documentReference:r.ref,path:"menuItems/"+e.name,data:n});case 7:d("success"),m.resetForm(),null===o||void 0===o||o(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),d("failed");case 15:l(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){C(o,n,a,i,u,"next",t)}function u(t){C(o,n,a,i,u,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}()});return(0,S.Z)().isCanWriteFireStoreEmailUser?f?(0,n.jsxs)("div",{onClick:function(){return d(void 0)},children:["result: ",f]}):(0,n.jsx)("div",{className:g()(e),children:(0,n.jsxs)("form",{className:"mb-4 rounded bg-white px-8 pt-6 pb-8 shadow-md",onSubmit:m.handleSubmit,children:[(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("div",{className:"flex-1 md:pr-3",children:T.map((function(t){return(0,n.jsx)(j.Z,{inputProps:{id:t.id,name:t.id,placeholder:t.placeholder,type:t.type,onChange:m.handleChange,value:m.values[t.id]},label:t.label,showError:!(!m.touched[t.id]||!m.errors[t.id]),errorString:m.errors[t.id]},"new-restaurant-menu-input-".concat(t.id))}))})}),c&&(0,n.jsx)("p",{children:c}),(0,n.jsx)(P.Z,{disabled:u,type:"submit",children:"\u78ba\u8a8d\u9001\u51fa"})]})}):null},B=function(t){var e=t.id,r=a.useMemo((function(){return[(0,l.W$)(e)]}),[e]),o=(0,u.Z)({path:"restaurants",pathSegments:r}),i=o.isInit,c=o.isLoading,s=o.getDocument,f=o.document,d=o.data;if(i||c)return(0,n.jsx)("div",{children:"restaurant list loading..."});if(!f||!d)return(0,n.jsx)("div",{children:"restaurant not found"});var m=d["image-url"];return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,n.jsxs)("div",{className:"lg:mr-8",children:[(0,n.jsxs)("div",{className:"flex flex-row text-white",children:[f.id,d.hidden?"X":"Y"]}),(0,n.jsx)("div",{className:"h-[210px] w-[150px]",children:m&&(0,n.jsx)(p.Z,{objectFit:"contain",src:m,alt:"restaurant-image",width:500,height:700})})]}),(0,n.jsx)(_,{className:"flex-1",restaurantDoc:f,resultSuccessCallback:s})]}),(0,n.jsx)(y,{restaurantDoc:f})]})},R=r(576),L=function(t){var e=t.id,r=a.useMemo((function(){return(0,l.W$)(e)}),[e]);return(0,S.Z)().isCanWriteFireStoreEmailUser&&r?(0,n.jsx)(R.Z,{className:"flex justify-end",title:"\u65b0\u589e\u83dc\u55ae\u9805\u76ee",linkProps:{href:"/restaurant/[id]/create?id=".concat(r),as:"".concat("/FontechOrder","/restaurant/[id]/create?id=").concat(r)}}):null},U=function(){var t=(0,o.useRouter)().query.id;return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(L,{id:t}),(0,n.jsx)(B,{id:t})]})}},1163:function(t,e,r){t.exports=r(387)}},function(t){t.O(0,[890,177,580,774,888,179],(function(){return e=5333,t(t.s=e);var e}));var e=t.O();_N_E=e}]);