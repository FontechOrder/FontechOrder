(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{3447:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[id]",function(){return t(778)}])},5773:function(r,e,t){"use strict";var n=t(5893),o=(t(7294),t(8826));e.Z=function(r){var e=r.storageImage,t=r.children;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"h-[210px] w-[150px] border",children:e.downloadURL&&(0,n.jsx)(o.Z,{className:"border",objectFit:"contain",src:e.downloadURL,alt:"menu-image",width:500,height:700})}),t]})}},8826:function(r,e,t){"use strict";var n=t(5893),o=(t(7294),t(5675)),a=t(1714);function u(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),n.forEach((function(e){u(r,e,t[e])}))}return r}function c(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},a=Object.keys(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}e.Z=function(r){var e=r.alt,t=void 0===e?"zoom-image":e,u=c(r,["alt"]);return(0,n.jsx)(a.Z,{children:(0,n.jsx)(o.default,i({},u,{alt:t}))})}},3681:function(r,e,t){"use strict";var n=t(4051),o=t.n(n),a=t(5321),u=t(317);function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function c(r,e,t,n,o,a,u){try{var i=r[a](u),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,o)}function s(r){return function(r){if(Array.isArray(r))return i(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return i(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(){var r,e=(r=o().mark((function r(e){var t,n,i,c,l,f,d,p;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.documentReference,n=e.path,i=e.pathSegments,c=void 0===i?[]:i,l=e.orderByKey,f=t&&a.hJ.apply(void 0,[t,n].concat(s(c)))||a.hJ.apply(void 0,[u.sG,n].concat(s(c))),d=l?a.IO.apply(void 0,[f].concat(s([(0,a.Xo)(l)]))):f,r.next=5,(0,a.PL)(d);case 5:if(0!==(p=r.sent).docs.length){r.next=8;break}throw new Error("querySnapshot no data.");case 8:return r.abrupt("return",p.docs);case 9:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){c(a,n,o,u,i,"next",r)}function i(r){c(a,n,o,u,i,"throw",r)}u(void 0)}))});return function(r){return e.apply(this,arguments)}}();e.Z=l},963:function(r,e,t){"use strict";var n=t(7294);function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function a(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],u=!0,i=!1;try{for(t=t.call(r);!(u=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);u=!0);}catch(c){i=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return o(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(r){var e=a(n.useState(!0),2),t=e[0],o=e[1];return n.useEffect((function(){t&&(o(!1),null===r||void 0===r||r())}),[t,r]),{isInit:t,setIsInit:o}}},4193:function(r,e,t){"use strict";t.d(e,{Z:function(){return s}});var n=t(1030),o=t(7294);function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function u(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],u=!0,i=!1;try{for(t=t.call(r);!(u=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);u=!0);}catch(c){i=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=function(){var r=u(o.useState(void 0),2);return{error:r[0],setError:r[1]}};function c(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var s=function(){return function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),n.forEach((function(e){c(r,e,t[e])}))}return r}({},(0,n.Z)(),i())}},778:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return z}});var n=t(5893),o=t(7294),a=t(1163),u=t(2265),i=t(4051),c=t.n(i),s=t(7633),l=t(1030),f=t(4193),d=t(963),p=t(1912),v=t(3681);function m(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function h(r,e,t,n,o,a,u){try{var i=r[a](u),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,o)}function y(r){return function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){h(a,n,o,u,i,"next",r)}function i(r){h(a,n,o,u,i,"throw",r)}u(void 0)}))}}function b(r){return function(r){if(Array.isArray(r))return m(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return m(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(){var r=y(c().mark((function r(e){var t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,p.yf)({targetDoc:e,key:"restaurant-reference"});case 3:return t=r.sent,r.abrupt("return",t);case 7:throw r.prev=7,r.t0=r.catch(0),new Error("getRestaurantDocFromOrderDoc fail");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),x=function(){var r=y(c().mark((function r(e){var t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,p.yf)({targetDoc:e,key:"user-reference"});case 3:return t=r.sent,r.abrupt("return",t);case 7:throw r.prev=7,r.t0=r.catch(0),new Error("getOrderItemUserDocFromOrderItemDoc fail");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),g=function(){var r=y(c().mark((function r(e){var t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,p.yf)({targetDoc:e,key:"menu-item-reference"});case 3:return t=r.sent,r.abrupt("return",t);case 7:throw r.prev=7,r.t0=r.catch(0),new Error("getMenuItemDocFromOrderItemDoc fail");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),j=function(){var r=y(c().mark((function r(e){var t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}throw new Error("orderDoc not found");case 3:return r.next=5,(0,v.Z)({documentReference:e.ref,path:"items"});case 5:return t=r.sent,r.next=8,t.reduce(function(){var r=y(c().mark((function r(e,t){var n,o,a,u,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e;case 2:return n=r.sent,r.prev=3,r.next=6,x(t);case 6:if(o=r.sent,a=(0,p.wA)(o)){r.next=10;break}throw new Error("user not found");case 10:return r.next=12,g(t);case 12:if(u=r.sent,i=(0,p.wA)(u)){r.next=16;break}throw new Error("menuItem not found");case 16:if(!1===i.hidden){r.next=18;break}throw new Error("menuItem is hidden");case 18:return r.abrupt("return",b(n).concat([{user:{doc:o,data:a},menuItem:{doc:u,data:i}}]));case 21:r.prev=21,r.t0=r.catch(3);case 23:return r.abrupt("return",n);case 24:case"end":return r.stop()}}),r,null,[[3,21]])})));return function(e,t){return r.apply(this,arguments)}}(),Promise.resolve(Array()));case 8:return n=r.sent,r.abrupt("return",n);case 12:throw r.prev=12,r.t0=r.catch(0),new Error("getOrderItemsFromOrderDoc fail");case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}(),I=function(){var r=y(c().mark((function r(e){var t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}throw new Error("restaurantDoc not found");case 3:return r.next=5,(0,v.Z)({documentReference:e.ref,path:"menuItems"});case 5:return r.next=7,r.sent;case 7:return t=r.sent,n=t.reduce((function(r,e){var t=(0,p.wA)(e);return t?!1!==t.hidden?r:b(r).concat([{doc:e,data:t}]):r}),Array()),r.abrupt("return",n);case 12:throw r.prev=12,r.t0=r.catch(0),new Error("getMenuItemListFromRestaurantDoc fail");case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();function S(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function A(r,e,t,n,o,a,u){try{var i=r[a](u),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,o)}function O(r){return function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){A(a,n,o,u,i,"next",r)}function i(r){A(a,n,o,u,i,"throw",r)}u(void 0)}))}}function k(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],u=!0,i=!1;try{for(t=t.call(r);!(u=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);u=!0);}catch(c){i=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return S(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(r){var e=r.pathSegments,t=void 0===e?p.uT:e,n=(0,f.Z)(),a=n.isLoadingHandler,u=n.isLoading,i=n.setError,v=(0,l.Z)(),m=v.isLoading,h=v.setIsLoading,y=(0,l.Z)(),b=y.isLoading,x=y.setIsLoading,g=k(o.useState(void 0),2),S=g[0],A=g[1],E=k(o.useState(void 0),2),P=E[0],D=E[1],Z=k(o.useState([]),2),N=Z[0],C=Z[1],L=k(o.useState([]),2),M=L[0],_=L[1],R=o.useMemo((function(){return(0,p.wA)(S)}),[S]),T=o.useMemo((function(){return(0,p.wA)(P)}),[P]),U=o.useCallback((function(r){(function(){var e=O(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),C([]),e.prev=2,e.next=5,j(r);case 5:t=e.sent,C(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("do getOrderItemsFromOrderDoc error");case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[x]),F=o.useCallback((function(r){(function(){var e=O(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),_([]),e.next=4,w(r);case 4:return t=e.sent,D(t),e.prev=6,e.next=9,I(t);case 9:n=e.sent,_(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log("do getMenuItemListFromRestaurantDoc error");case 16:h(!1);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}})()()}),[h]),$=o.useCallback((function(r){(function(){var e=O(c().mark((function e(){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(void 0),A(void 0),D(void 0),e.prev=3,e.next=6,(0,s.Z)({path:"orders",pathSegments:t});case 6:return n=e.sent,A(n),e.next=10,U(n);case 10:return e.next=12,F(n);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),a=e.t0,u=Error,o=(null!=u&&"undefined"!==typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](a):a instanceof u)?e.t0:new Error("getDocuments Error"),i(o);case 18:r();case 19:case"end":return e.stop()}var a,u}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t,i,U,F]),J=o.useCallback((function(){a($)}),[a,$]);return{isInit:(0,d.Z)(J).isInit,isLoading:u,orderDoc:S,order:R,restaurant:T,restaurantDoc:P,restaurantIsLoading:m,menuItems:M,updateOrderItems:U,orderItems:N,orderItemsIsLoading:b}},P=t(5773),D=function(r){var e=r.restaurant;return(0,n.jsx)("div",{className:"py-4 text-white",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:e.name}),(0,n.jsx)(P.Z,{storageImage:(0,p.p)(e)})]})})},Z=t(3071),N=t(1242),C=t(1547),L=t(5321),M=t(317);function _(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function R(r,e,t,n,o,a,u){try{var i=r[a](u),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,o)}function T(r){return function(r){if(Array.isArray(r))return _(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return _(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(){var r,e=(r=c().mark((function r(e){var t,n,o,a,u,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.documentReference,n=e.path,o=e.pathSegments,a=void 0===o?[]:o,u=e.data,i=t?L.hJ.apply(void 0,[t,n].concat(T(a))):L.hJ.apply(void 0,[M.sG,n].concat(T(a))),r.next=4,(0,L.ET)(i,u);case 4:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){R(a,n,o,u,i,"next",r)}function i(r){R(a,n,o,u,i,"throw",r)}u(void 0)}))});return function(r){return e.apply(this,arguments)}}();function F(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function $(r,e,t,n,o,a,u){try{var i=r[a](u),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,o)}function J(r){return function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){$(a,n,o,u,i,"next",r)}function i(r){$(a,n,o,u,i,"throw",r)}u(void 0)}))}}function G(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],u=!0,i=!1;try{for(t=t.call(r);!(u=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);u=!0);}catch(c){i=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(i)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return F(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(r){var e=r.orderDoc,t=r.menuItems,a=r.updateOrderMenuItem,u=(0,C.Z)(),i=u.isFirst,l=u.firebaseAuthUser,f=G(o.useState(void 0),1)[0],d=G(o.useState(!1),1)[0],v=G(o.useState(void 0),2),m=v[0],h=v[1],y=G(o.useState(!1),2),b=y[0],w=y[1],x=G(o.useState(void 0),2),g=x[0],j=x[1],I=function(){var r=J(c().mark((function r(){var e,t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!d){r.next=7;break}if(f){r.next=3;break}throw new Error("is Guest");case 3:return r.next=5,(0,s.Z)({path:"users/"+f});case 5:return e=r.sent,r.abrupt("return",e);case 7:if(t=(0,p.EA)(null===l||void 0===l?void 0:l.email)){r.next=10;break}throw new Error("user not found.");case 10:return r.next=12,(0,s.Z)({path:"users/"+t});case 12:return n=r.sent,r.abrupt("return",n);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),S=function(){var r=J(c().mark((function r(){var t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(!0),r.prev=1,m){r.next=4;break}throw new Error("No selecte menuItemDoc");case 4:return r.next=6,I();case 6:return t=r.sent,n={"menu-item-reference":m.doc.ref,"user-reference":t.ref,note:""},r.next=10,U({documentReference:e.ref,path:"items",data:n});case 10:j("success"),null===a||void 0===a||a(),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),j("failed");case 17:return r.next=19,(0,p._v)(1e3);case 19:w(!1);case 20:case"end":return r.stop()}}),r,null,[[1,14]])})));return function(){return r.apply(this,arguments)}}();return i?(0,n.jsx)("div",{children:"Prepare...."}):g?(0,n.jsxs)("div",{onClick:function(){return j(void 0)},children:["result: ",g]}):0===t.length?(0,n.jsx)("div",{children:"No menu item can order."}):(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"mb-4 rounded bg-white px-8 pt-6 pb-8 shadow-md",children:[(0,n.jsx)("div",{children:(0,n.jsx)(Z.ZP,{options:t.map((function(r){return{value:r,label:r.data.name}})),onChange:function(r){h(r?r.value:void 0)}})}),(0,n.jsx)(N.Z,{disabled:!m||b,onClick:function(){return S()},children:b?"\u50b3\u9001\u4e2d...":"\u78ba\u8a8d\u9001\u51fa"})]})})},q=function(r){var e=r.id,t=o.useMemo((function(){return[(0,p.W$)(e)]}),[e]),a=E({pathSegments:t}),u=a.isInit,i=a.isLoading,c=a.orderDoc,s=a.order,l=a.restaurant,f=a.menuItems,d=a.updateOrderItems,v=a.orderItems,m=a.orderItemsIsLoading;o.useEffect((function(){console.log("OrderDetail order: ",s)}),[s]);var h=o.useMemo((function(){return!1===(null===s||void 0===s?void 0:s.finished)}),[s]),y=o.useCallback((function(){c&&d(c)}),[c,d]);return u||i?(0,n.jsx)("div",{children:"order list loading..."}):c&&s?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("div",{className:"whitespace-pre-wrap break-all",children:c.id}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-around",children:[l?(0,n.jsx)(D,{restaurant:l}):(0,n.jsx)("div",{className:"h-[210px] w-[150px] border",children:"Not found Restaurant Info."}),h&&(0,n.jsx)("div",{className:"sm:ml-2",children:(0,n.jsx)(X,{orderDoc:c,menuItems:f,updateOrderMenuItem:function(){return y()}})})]}),m?(0,n.jsx)("div",{children:"orderItemsIsLoading.."}):(0,n.jsx)("div",{className:"py-4",children:v.sort((function(r,e){return(0,p.x0)(r.user.data.name,e.user.data.name)})).map((function(r,e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:r.user.data.name}),(0,n.jsx)("div",{className:"pl-2",children:r.menuItem.data.name})]},"order-item-"+e)}))})]})]}):(0,n.jsx)("div",{children:"order not found"})},z=function(){var r=(0,a.useRouter)().query.id;return(0,n.jsx)(u.Z,{children:(0,n.jsx)(q,{id:r})})}}},function(r){r.O(0,[890,177,590,265,774,888,179],(function(){return e=3447,r(r.s=e);var e}));var e=r.O();_N_E=e}]);