(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{1024:function(r,n,t){"use strict";t.d(n,{Z:function(){return m}});var e=t(7462),a=t(3366),i=t(7294),o=t(6010),u=t(7192),s=t(1496),l=t(7623),c=t(5113),f=t(8979);function d(r){return(0,f.Z)("MuiCard",r)}(0,t(6087).Z)("MuiCard",["root"]);var v=t(5893);const p=["className","raised"],h=(0,s.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(r,n)=>n.root})((()=>({overflow:"hidden"})));var m=i.forwardRef((function(r,n){const t=(0,l.Z)({props:r,name:"MuiCard"}),{className:i,raised:s=!1}=t,c=(0,a.Z)(t,p),f=(0,e.Z)({},t,{raised:s}),m=(r=>{const{classes:n}=r;return(0,u.Z)({root:["root"]},d,n)})(f);return(0,v.jsx)(h,(0,e.Z)({className:(0,o.Z)(m.root,i),elevation:s?8:void 0,ref:n,ownerState:f},c))}))},4184:function(r,n){var t;!function(){"use strict";var e={}.hasOwnProperty;function a(){for(var r=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var i=typeof t;if("string"===i||"number"===i)r.push(t);else if(Array.isArray(t)){if(t.length){var o=a.apply(null,t);o&&r.push(o)}}else if("object"===i)if(t.toString===Object.prototype.toString)for(var u in t)e.call(t,u)&&t[u]&&r.push(u);else r.push(t.toString())}}return r.join(" ")}r.exports?(a.default=a,r.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(r.exports=t)}()},7638:function(r,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurants",function(){return t(7555)}])},7555:function(r,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var e=t(5893),a=t(7294),i=t(7357),o=t(2567),u=t(6886),s=t(1024),l=t(3321),c=t(4184),f=t.n(c),d=t(1664);function v(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function p(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){v(r,n,t[n])}))}return r}var h=function(r){var n=r.isBlank,t=void 0!==n&&n,a=r.className,i=r.title,o=r.linkProps,u=t?{target:"_blank",rel:"noreferrer"}:{};return(0,e.jsx)("div",{className:f()("p-2 text-blue-800 hover:underline",a),children:(0,e.jsx)(d.default,p({},o,{children:(0,e.jsx)("a",p({},u,{children:i}))}))})},m=t(1077),y=t(4051),b=t.n(y),j=t(3298);function x(r,n,t,e,a,i,o){try{var u=r[i](o),s=u.value}catch(l){return void t(l)}u.done?n(s):Promise.resolve(s).then(e,a)}var w=function(){var r,n=(r=b().mark((function r(){var n,t,e;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.O.from("restaurants").select();case 2:if(n=r.sent,t=n.data,!(e=n.error)){r.next=7;break}throw e;case 7:if(t){r.next=9;break}throw new Error("no restaurant list");case 9:return r.abrupt("return",t);case 10:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,a){var i=r.apply(n,t);function o(r){x(i,e,a,o,u,"next",r)}function u(r){x(i,e,a,o,u,"throw",r)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),g=t(2962),Z=t(9664);function k(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function O(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,i=[],o=!0,u=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);o=!0);}catch(s){u=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(u)throw a}}return i}}(r,n)||C(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(r){return function(r){if(Array.isArray(r))return k(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||C(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(r,n){if(r){if("string"===typeof r)return k(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(r,n):void 0}}var _=function(){var r=O(a.useState([]),2),n=r[0],t=r[1],e=(0,g.Z)({asyncCallback:w}),i=e.isInit,o=e.isLoading,u=e.error,s=e.recall,l=e.result,c=a.useCallback((function(r){if(!r.errors){var e=r.new;e&&t(S(n).concat([e]))}}),[n]),f=a.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;if(a&&!(a<=0)){var i=r.new;if(i){var o=n.map((function(r){return r.id===a?i:r}));t(o)}}}}),[n]),d=a.useCallback((function(r){var e;if(!r.errors){var a=null===(e=r.old)||void 0===e?void 0:e.id;a&&(a<=0||t(n.filter((function(r){return r.id!==a}))))}}),[n]);return(0,Z.Z)({path:"restaurants",insertCallback:c,updateCallback:f,deleteCallback:d}),a.useEffect((function(){t(l||[])}),[l]),{isInit:i,isLoading:o,error:u,recall:s,restaurants:n}},P=function(){var r=_(),n=r.isInit,t=r.isLoading,a=r.error,o=r.recall,c=r.restaurants;return n?(0,e.jsx)("div",{children:"init..."}):t?(0,e.jsx)("div",{children:"loading..."}):a?(0,e.jsx)("div",{children:"Some error..."}):(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(l.Z,{variant:"contained",onClick:o,children:"Recall"}),(0,e.jsx)(u.ZP,{container:!0,spacing:2,children:c.map((function(r){return(0,e.jsx)(u.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,e.jsxs)(s.Z,{className:"items-center",variant:"outlined",children:[(0,e.jsx)("div",{className:"relative aspect-[3/4]",children:r.image_url&&(0,e.jsx)(m.Z,{priority:!0,src:r.image_url,alt:r.name,layout:"fill"})}),(0,e.jsx)(h,{className:"w-full text-center",title:r.name,linkProps:{href:"/restaurants/detail?id=".concat(r.id),as:"".concat("FontechOrder/","/restaurants/detail?id=").concat(r.id)}})]})},"restaurant-grid-".concat(r.name))}))})]})},N=function(){return(0,e.jsx)(o.Z,{children:(0,e.jsxs)(i.Z,{m:2,children:[(0,e.jsx)("div",{children:"Restaurants"}),(0,e.jsx)(P,{})]})})}}},function(r){r.O(0,[742,6,545,451,774,888,179],(function(){return n=7638,r(r.s=n);var n}));var n=r.O();_N_E=n}]);