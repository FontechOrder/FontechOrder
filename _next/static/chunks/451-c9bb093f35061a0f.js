"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{1077:function(r,e,n){var t=n(5893),a=(n(7294),n(5675)),i=n(1714);function o(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function u(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){o(r,e,n[e])}))}return r}function l(r,e){if(null==r)return{};var n,t,a=function(r,e){if(null==r)return{};var n,t,a={},i=Object.keys(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||(a[n]=r[n]);return a}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}e.Z=function(r){var e=r.alt,n=void 0===e?"zoom-image":e,o=l(r,["alt"]);return(0,t.jsx)(i.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(a.default,u({},o,{alt:n}))})})}},2567:function(r,e,n){n.d(e,{Z:function(){return k}});var t=n(5893),a=n(7294),i=n(6242),o=n(1664),u=n(4706),l=n(7357),c=n(122),s=n(5165),f=n(7600),d=n(3321),h=n(8871),m=n(5819),v=n(4051),p=n.n(v),b=n(3298);function y(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function x(r,e,n,t,a,i,o){try{var u=r[i](o),l=u.value}catch(c){return void n(c)}u.done?e(l):Promise.resolve(l).then(t,a)}function w(r){return function(){var e=this,n=arguments;return new Promise((function(t,a){var i=r.apply(e,n);function o(r){x(i,t,a,o,u,"next",r)}function u(r){x(i,t,a,o,u,"throw",r)}o(void 0)}))}}function j(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(r);!(o=(t=n.next()).done)&&(i.push(t.value),!e||i.length!==e);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return y(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(){var r=j(a.useState(void 0),2),e=r[0],n=r[1];return a.useEffect((function(){var r=b.O.auth.user();n(r||void 0)}),[]),a.useEffect((function(){var r=b.O.auth.onAuthStateChange(function(){var r=w(p().mark((function r(e,t){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(null===t||void 0===t?void 0:t.user)&&n(t.user);case 1:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}()).data;return function(){r&&r.unsubscribe()}}),[]),{doSignIn:function(r){var e=r.email,t=r.password;(function(){var r=w(p().mark((function r(){var a,i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.O.auth.signIn({email:e,password:t});case 2:if(a=r.sent,i=a.user,!a.error){r.next=7;break}return r.abrupt("return");case 7:if(i){r.next=9;break}return r.abrupt("return");case 9:n(i);case 10:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()},doSignOut:function(){(function(){var r=w(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.O.auth.signOut();case 2:if(!r.sent.error){r.next=5;break}return r.abrupt("return");case 5:n(void 0);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()},authUser:e}};function O(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function S(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(r);!(o=(t=n.next()).done)&&(i.push(t.value),!e||i.length!==e);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return O(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(){var r=g(),e=r.doSignIn,n=r.doSignOut,i=r.authUser,v=S(a.useState(null),2),p=v[0],b=v[1],y=Boolean(p),x=function(){b(null)};return(0,t.jsx)("div",{className:"flex w-full justify-center bg-blue-400",children:(0,t.jsx)("div",{className:"flex w-full flex-row bg-green-500 p-4 lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsxs)("div",{className:"relative flex w-full flex-row justify-between overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-0 flex flex-row",children:[(0,t.jsx)(l.Z,{className:"p-1",children:(0,t.jsx)(o.default,{href:"/orders",as:"".concat("/FontechOrder","/orders"),passHref:!0,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{title:"Order",children:(0,t.jsx)(s.Z,{})})})})}),(0,t.jsx)(l.Z,{className:"p-1",children:(0,t.jsx)(o.default,{href:"/restaurants",as:"".concat("/FontechOrder","/restaurants"),passHref:!0,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{title:"Restaurant",children:(0,t.jsx)(f.Z,{})})})})})]}),(0,t.jsx)("div",{className:"flex flex-1 justify-end",children:i?(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(d.Z,{id:"basic-button","aria-controls":y?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:function(r){b(r.currentTarget)},children:(0,t.jsxs)("div",{className:"whitespace-pre-wrap break-all text-right",children:[i.email,i.email,i.email,i.email,"\n\n\n",i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email,i.email]})}),(0,t.jsx)(h.Z,{id:"basic-menu",anchorEl:p,open:y,onClose:x,transformOrigin:{horizontal:"left",vertical:"bottom"},children:(0,t.jsx)(m.Z,{onClick:function(){n(),x()},children:"Logout"})})]}):(0,t.jsx)(d.Z,{onClick:function(){return e({email:"jason@fontech.com.tw",password:"Fontech123"})},children:"log in"})})]})})})},k=function(r){var e=r.children;return(0,t.jsx)(i.Z,{header:I(),children:e})}},6242:function(r,e,n){var t=n(5893);n(7294);e.Z=function(r){var e=r.header,n=r.children,a=r.footer;return(0,t.jsxs)("div",{id:"page-content",className:"flex min-w-[20rem] flex-col ",children:[e,(0,t.jsx)("div",{className:"w-full self-center lg:w-[64rem] lg:max-w-[64rem]",children:(0,t.jsx)("main",{children:n})}),a]})}},2962:function(r,e,n){var t=n(4051),a=n.n(t),i=n(7294),o=n(5590);function u(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function l(r,e,n,t,a,i,o){try{var u=r[i](o),l=u.value}catch(c){return void n(c)}u.done?e(l):Promise.resolve(l).then(t,a)}function c(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,i=[],o=!0,u=!1;try{for(n=n.call(r);!(o=(t=n.next()).done)&&(i.push(t.value),!e||i.length!==e);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return u(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(r){var e=r.asyncCallback,n=r.customErrorCallback,t=c(i.useState(!0),2),u=t[0],s=t[1],f=c(i.useState(!1),2),d=f[0],h=f[1],m=c(i.useState(void 0),2),v=m[0],p=m[1],b=c(i.useState(void 0),2),y=b[0],x=b[1],w=i.useCallback((function(){(function(){var r,t=(r=a().mark((function r(){var t,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!v){r.next=2;break}return r.abrupt("return");case 2:if(void 0===y){r.next=4;break}return r.abrupt("return");case 4:if(!d){r.next=6;break}return r.abrupt("return");case 6:return h(!0),x(void 0),r.prev=8,r.next=11,e();case 11:t=r.sent,x(t),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(8),i=n&&n(r.t0)||(0,o.iJ)(r.t0)||new Error("fetchData Error"),p(i);case 19:s(!1),h(!1);case 21:case"end":return r.stop()}}),r,null,[[8,15]])})),function(){var e=this,n=arguments;return new Promise((function(t,a){var i=r.apply(e,n);function o(r){l(i,t,a,o,u,"next",r)}function u(r){l(i,t,a,o,u,"throw",r)}o(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[e,n,d,v,y,h,x,p]),j=i.useCallback((function(){return!u&&(!d&&(p(void 0),void 0!==y&&x(void 0),!0))}),[y,u,d,p,x]);return i.useEffect((function(){u&&(d||w())}),[u,d,w]),i.useEffect((function(){u||w()}),[u,w]),{isInit:u,isLoading:d,error:v,result:y,recall:j}}},3298:function(r,e,n){n.d(e,{O:function(){return t}});var t=(0,n(1904).eI)("https://cjehjnuqvihotvcwpyzr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqZWhqbnVxdmlob3R2Y3dweXpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTAwMDExOTAsImV4cCI6MTk2NTU3NzE5MH0.nTMWhQfiFVKwC5bG32fuuRrYXLq3b_UHbQe5EG6mf7w")},9664:function(r,e,n){var t=n(7294),a=n(3298),i=n(5590);e.Z=function(r){var e=r.path,n=r.insertCallback,o=void 0===n?i.G1:n,u=r.updateCallback,l=void 0===u?i.G1:u,c=r.deleteCallback,s=void 0===c?i.G1:c;return t.useEffect((function(){var r=a.O.from(e).on("INSERT",o).on("UPDATE",l).on("DELETE",s).subscribe();return function(){a.O.removeSubscription(r)}}),[e,o,l,s]),{}}}}]);