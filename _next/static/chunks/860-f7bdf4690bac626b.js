"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{1077:function(r,n,t){var e=t(5893),o=(t(7294),t(5675)),a=t(1714);function i(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function u(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){i(r,n,t[n])}))}return r}function c(r,n){if(null==r)return{};var t,e,o=function(r,n){if(null==r)return{};var t,e,o={},a=Object.keys(r);for(e=0;e<a.length;e++)t=a[e],n.indexOf(t)>=0||(o[t]=r[t]);return o}(r,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(e=0;e<a.length;e++)t=a[e],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}n.Z=function(r){var n=r.alt,t=void 0===n?"zoom-image":n,i=c(r,["alt"]);return(0,e.jsx)(a.Z,{wrapStyle:{width:"100%",height:"100%"},children:(0,e.jsx)("div",{className:"relative h-full w-full",children:(0,e.jsx)(o.default,u({},i,{alt:t}))})})}},6199:function(r,n,t){t.d(n,{Z:function(){return p}});var e=t(5893),o=t(7294),a=t(6822),i=t(6242),u=t(4229),c=t(4051),l=t.n(c),f=t(1163),s=t(1622);function v(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function d(r,n,t,e,o,a,i){try{var u=r[a](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,o)}function y(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return v(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(){var r=y(o.useState(!0),2),n=r[0],t=r[1],e=(0,f.useRouter)().query.id,a=o.useMemo((function(){return(0,s.W$)(e)}),[e]),i=o.useMemo((function(){var r=parseInt(a);if(r&&!(r<=0))return r}),[a]);return o.useEffect((function(){(function(){var r,n=(r=l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s._v)(500);case 2:t(!1);case 3:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,o){var a=r.apply(n,t);function i(r){d(a,e,o,i,u,"next",r)}function u(r){d(a,e,o,i,u,"throw",r)}i(void 0)}))});return function(){return n.apply(this,arguments)}})()()}),[t]),{id:i,idText:a,isInit:n}},p=function(r){var n=r.children,t=b(),c=t.isInit,l=t.id,f=o.useMemo((function(){return c?(0,e.jsx)(a.Z,{children:"Init..."}):l?n?n(l):null:(0,e.jsx)(a.Z,{children:"404!"})}),[c,l,n]);return(0,e.jsx)(i.Z,{header:(0,e.jsx)(u.Z,{}),children:(0,e.jsx)(a.Z,{m:2,children:f})})}},301:function(r,n,t){var e=t(7294),o=t(3869);function a(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function i(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return a(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(r){var n=r.asyncCallback,t=r.customErrorCallback,a=i(e.useState(!0),2),u=a[0],c=a[1],l=e.useCallback((function(){return n}),[n]),f=(0,o.Z)({asyncCallback:l(),customErrorCallback:t}),s=f.isLoading,v=f.error,d=f.result,y=f.recall,b=f.fetchData,p=e.useCallback((function(){b({finishCallBack:function(){c(!1)}})}),[b]),m=e.useCallback((function(){return!u&&y()}),[u,y]);return e.useEffect((function(){u&&(s||p())}),[u,s,p]),e.useEffect((function(){u||p()}),[u,p]),{isInit:u,setIsInit:c,isLoading:s,error:v,result:d,recall:m}}},484:function(r,n,t){t.d(n,{Z:function(){return j}});var e=t(7294),o=t(4051),a=t.n(o),i=t(301),u=t(3298);function c(r,n,t,e,o,a,i){try{var u=r[a](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,o)}var l=function(){var r,n=(r=a().mark((function r(n){var t,e,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,u.O.from("menu_item_options").select().eq("restaurant",n);case 6:if(t=r.sent,e=t.data,!(o=t.error)){r.next=11;break}throw o;case 11:if(e){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",e);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,o){var a=r.apply(n,t);function i(r){c(a,e,o,i,u,"next",r)}function u(r){c(a,e,o,i,u,"throw",r)}i(void 0)}))});return function(r){return n.apply(this,arguments)}}(),f=t(9664);function s(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function v(r,n,t,e,o,a,i){try{var u=r[a](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,o)}function d(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,n)||b(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(r){return function(r){if(Array.isArray(r))return s(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||b(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(r,n){if(r){if("string"===typeof r)return s(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(r,n):void 0}}var p=function(r){var n,t=d(e.useState([]),2),o=t[0],u=t[1],c=e.useCallback((function(){return l(r)}),[r]),s=(0,i.Z)({asyncCallback:(n=a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(r){v(a,e,o,i,u,"next",r)}function u(r){v(a,e,o,i,u,"throw",r)}i(void 0)}))})}),b=s.isInit,p=s.isLoading,m=s.error,h=s.recall,w=s.result,g=e.useCallback((function(r){if(!r.errors){var n=r.new;n&&u(y(o).concat([n]))}}),[o]),k=e.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;if(t&&!(t<=0)){var e=r.new;if(e){var a=o.map((function(r){return r.id===t?e:r}));u(a)}}}}),[o]),I=e.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;t&&(t<=0||u(o.filter((function(r){return r.id!==t}))))}}),[o]);return(0,f.Z)({path:"menu_item_options:restaurant=eq.".concat(r),insertCallback:g,updateCallback:k,deleteCallback:I}),e.useEffect((function(){u(w||[])}),[w]),{isInit:b,isLoading:p,error:m,recall:h,restaurantMenuItemOptions:o}};function m(r,n,t,e,o,a,i){try{var u=r[a](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,o)}var h=function(){var r,n=(r=a().mark((function r(n){var t,e,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Invalid restaurant id");case 2:if(!(n<=0)){r.next=4;break}throw new Error("Invalid restaurant id");case 4:return r.next=6,u.O.from("menu_items").select().eq("restaurant",n);case 6:if(t=r.sent,e=t.data,!(o=t.error)){r.next=11;break}throw o;case 11:if(e){r.next=13;break}throw new Error("no restaurant list");case 13:return r.abrupt("return",e);case 14:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,o){var a=r.apply(n,t);function i(r){m(a,e,o,i,u,"next",r)}function u(r){m(a,e,o,i,u,"throw",r)}i(void 0)}))});return function(r){return n.apply(this,arguments)}}();function w(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function g(r,n,t,e,o,a,i){try{var u=r[a](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(e,o)}function k(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);i=!0);}catch(c){u=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,n)||O(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(r){return function(r){if(Array.isArray(r))return w(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||O(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(r,n){if(r){if("string"===typeof r)return w(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(r,n):void 0}}var S=function(r){var n,t=k(e.useState([]),2),o=t[0],u=t[1],c=e.useCallback((function(){return h(r)}),[r]),l=(0,i.Z)({asyncCallback:(n=a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(r){g(a,e,o,i,u,"next",r)}function u(r){g(a,e,o,i,u,"throw",r)}i(void 0)}))})}),s=l.isInit,v=l.isLoading,d=l.error,y=l.recall,b=l.result,p=e.useCallback((function(r){if(!r.errors){var n=r.new;n&&u(I(o).concat([n]))}}),[o]),m=e.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;if(t&&!(t<=0)){var e=r.new;if(e){var a=o.map((function(r){return r.id===t?e:r}));u(a)}}}}),[o]),w=e.useCallback((function(r){var n;if(!r.errors){var t=null===(n=r.old)||void 0===n?void 0:n.id;t&&(t<=0||u(o.filter((function(r){return r.id!==t}))))}}),[o]);return(0,f.Z)({path:"menu_items:restaurant=eq.".concat(r),insertCallback:p,updateCallback:m,deleteCallback:w}),e.useEffect((function(){u(b||[])}),[b]),{isInit:s,isLoading:v,error:d,recall:y,restaurantMenus:o}};function x(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}var j=function(r){var n=S(r),t=n.isInit,o=n.isLoading,a=n.error,i=n.restaurantMenus,u=p(r),c=u.isInit,l=u.isLoading,f=u.error,s=u.restaurantMenuItemOptions;return{menuInit:e.useMemo((function(){return t||c}),[t,c]),menuIsLoading:e.useMemo((function(){return o||l}),[o,l]),menuError:e.useMemo((function(){return a||f}),[a,f]),restaurantMenuWithItemOptions:e.useMemo((function(){return i.map((function(r){return function(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){x(r,n,t[n])}))}return r}({},r,{itemOptions:s.filter((function(n){return n.menu_item===r.id}))})}))}),[i,s])}}},9664:function(r,n,t){var e=t(7294),o=t(3298),a=t(1622);n.Z=function(r){var n=r.path,t=r.insertCallback,i=void 0===t?a.G1:t,u=r.updateCallback,c=void 0===u?a.G1:u,l=r.deleteCallback,f=void 0===l?a.G1:l;return e.useEffect((function(){var r=o.O.from(n).on("INSERT",i).on("UPDATE",c).on("DELETE",f).subscribe();return function(){o.O.removeSubscription(r)}}),[n,i,c,f]),{}}}}]);